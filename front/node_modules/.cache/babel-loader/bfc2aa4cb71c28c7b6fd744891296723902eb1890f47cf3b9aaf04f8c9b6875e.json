{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"auth-page\"\n};\nconst _hoisted_2 = {\n  class: \"auth-card\"\n};\nconst _hoisted_3 = {\n  class: \"form-meta\"\n};\nconst _hoisted_4 = {\n  class: \"remember\"\n};\nconst _hoisted_5 = {\n  class: \"primary\",\n  type: \"submit\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"message\"\n};\nconst _hoisted_9 = {\n  class: \"card-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    class: \"neon-orbit\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, [_createElementVNode(\"h1\", null, \"欢迎回来\"), _createElementVNode(\"p\", {\n    class: \"subtitle\"\n  }, \"登录以同步观影历史、观看进度和个性推荐。\")], -1 /* CACHED */)), _createElementVNode(\"form\", {\n    class: \"auth-form\",\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"label\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"用户名\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.username = $event),\n    type: \"text\",\n    placeholder: \"请输入用户名\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.username, void 0, {\n    trim: true\n  }]])]), _createElementVNode(\"label\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"密码\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.password = $event),\n    type: \"password\",\n    placeholder: \"请输入密码\",\n    minlength: \"6\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.password]])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"label\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.remember = $event),\n    type: \"checkbox\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.remember]]), _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"保持登录\", -1 /* CACHED */))]), _cache[7] || (_cache[7] = _createElementVNode(\"button\", {\n    class: \"link\",\n    type: \"button\"\n  }, \"忘记密码？\", -1 /* CACHED */))]), _createElementVNode(\"button\", _hoisted_5, [!$data.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"立即登录\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_7, \"正在读取登录态…\"))]), $data.message ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, _toDisplayString($data.message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", _hoisted_9, [_cache[9] || (_cache[9] = _createTextVNode(\" 还没有账号？ \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createTextVNode(\"前往注册\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])])]);\n}","map":{"version":3,"names":["class","type","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","$data","form","username","$event","placeholder","required","trim","password","minlength","_hoisted_3","_hoisted_4","remember","_hoisted_5","loading","_hoisted_6","_hoisted_7","message","_hoisted_8","_toDisplayString","_hoisted_9","_createVNode","_component_router_link","to"],"sources":["C:\\Users\\13765\\Desktop\\vitualieve\\front\\Virtual-Live\\front\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"auth-page\">\r\n    <div class=\"neon-orbit\"></div>\r\n    <div class=\"auth-card\">\r\n      <div class=\"card-header\">\r\n\r\n        <h1>欢迎回来</h1>\r\n        <p class=\"subtitle\">登录以同步观影历史、观看进度和个性推荐。</p>\r\n      </div>\r\n\r\n      <form class=\"auth-form\" @submit.prevent=\"handleSubmit\">\r\n        <label>\r\n          <span>用户名</span>\r\n          <input\r\n            v-model.trim=\"form.username\"\r\n            type=\"text\"\r\n            placeholder=\"请输入用户名\"\r\n            required\r\n          >\r\n        </label>\r\n\r\n        <label>\r\n          <span>密码</span>\r\n          <input\r\n            v-model=\"form.password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            minlength=\"6\"\r\n            required\r\n          >\r\n        </label>\r\n\r\n        <div class=\"form-meta\">\r\n          <label class=\"remember\">\r\n            <input v-model=\"remember\" type=\"checkbox\">\r\n            <span>保持登录</span>\r\n          </label>\r\n          <button class=\"link\" type=\"button\">忘记密码？</button>\r\n        </div>\r\n\r\n        <button class=\"primary\" type=\"submit\">\r\n          <span v-if=\"!loading\">立即登录</span>\r\n          <span v-else>正在读取登录态…</span>\r\n        </button>\r\n\r\n        <p v-if=\"message\" class=\"message\">{{ message }}</p>\r\n      </form>\r\n\r\n      <div class=\"card-footer\">\r\n        还没有账号？\r\n        <router-link to=\"/register\">前往注册</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAuthToken, setAuthToken, setCurrentUser } from '@/utils/auth'\r\nimport { findMockUser } from '@/data/mockUsers'\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      remember: true,\r\n      message: '',\r\n      loading: false\r\n    }\r\n  },\r\n  created() {\r\n    if (getAuthToken()) {\r\n      this.redirectAfterLogin()\r\n    }\r\n  },\r\n  methods: {\r\n    redirectAfterLogin() {\r\n      const redirect = this.$route.query.redirect\r\n      const target = typeof redirect === 'string' ? redirect : '/'\r\n      this.$router.replace(target)\r\n    },\r\n    handleSubmit() {\r\n      this.message = ''\r\n\r\n      if (!this.form.username || !this.form.password) {\r\n        this.message = '请填写用户名和密码'\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        const user = findMockUser(this.form.username, this.form.password)\r\n\r\n        if (!user) {\r\n          this.loading = false\r\n          this.message = '账号或密码不正确'\r\n          return\r\n        }\r\n\r\n        const mockToken = `mock-token-${Date.now()}`\r\n        setAuthToken(mockToken, this.remember)\r\n        setCurrentUser(user.username, this.remember)\r\n        this.message = `欢迎回来，${user.name}，正在跳转…`\r\n        this.loading = false\r\n        setTimeout(() => this.redirectAfterLogin(), 200)\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-page {\r\n  position: relative;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  background: linear-gradient(135deg, #fef7ff 0%, #f5f0ff 50%, #fff0f8 100%);\r\n  overflow: hidden;\r\n}\r\n\r\n.neon-orbit {\r\n  position: absolute;\r\n  width: 520px;\r\n  height: 520px;\r\n  border-radius: 50%;\r\n  background: radial-gradient(circle, rgba(255, 105, 180, 0.15), transparent 60%);\r\n  filter: blur(10px);\r\n  animation: pulse 6s ease-in-out infinite;\r\n}\r\n\r\n.auth-card {\r\n  width: 100%;\r\n  max-width: 420px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-radius: 30px;\r\n  padding: 36px;\r\n  box-shadow: 0 20px 60px rgba(255, 105, 180, 0.2);\r\n  backdrop-filter: blur(30px);\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.card-header h1 {\r\n  margin: 8px 0;\r\n  font-size: 32px;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 4px 12px;\r\n  border-radius: 999px;\r\n  background: rgba(255, 105, 180, 0.15);\r\n  color: #ff69b4;\r\n  font-size: 12px;\r\n  letter-spacing: 0.08em;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.subtitle {\r\n  color: rgba(45, 45, 45, 0.7);\r\n  margin: 0;\r\n}\r\n\r\n.auth-form {\r\n  margin-top: 28px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\r\n}\r\n\r\nlabel span {\r\n  display: block;\r\n  margin-bottom: 6px;\r\n  font-weight: 600;\r\n  color: #2d2d2d;\r\n}\r\n\r\ninput[type='text'],\r\ninput[type='email'],\r\ninput[type='password'] {\r\n  width: 100%;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 16px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #2d2d2d;\r\n  padding: 14px 16px;\r\n  font-size: 15px;\r\n  transition: border 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\ninput[type='text']::placeholder,\r\ninput[type='email']::placeholder,\r\ninput[type='password']::placeholder {\r\n  color: rgba(45, 45, 45, 0.5);\r\n}\r\n\r\ninput:focus {\r\n  border-color: #ff69b4;\r\n  outline: none;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 8px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.form-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 14px;\r\n}\r\n\r\n.remember {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: rgba(45, 45, 45, 0.8);\r\n}\r\n\r\n.link {\r\n  border: none;\r\n  background: none;\r\n  color: #ff69b4;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.link:hover {\r\n  color: #9370db;\r\n}\r\n\r\n.primary {\r\n  width: 100%;\r\n  padding: 16px;\r\n  border-radius: 18px;\r\n  border: none;\r\n  background: linear-gradient(120deg, #546dff, #9e7aff);\r\n  color: #fff;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.primary:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 20px 30px rgba(84, 109, 255, 0.25);\r\n}\r\n\r\n.message {\r\n  text-align: center;\r\n  color: #ff69b4;\r\n  font-size: 14px;\r\n}\r\n\r\n.card-footer {\r\n  margin-top: 24px;\r\n  text-align: center;\r\n  color: rgba(45, 45, 45, 0.7);\r\n}\r\n\r\n.card-footer a {\r\n  color: #ff69b4;\r\n  font-weight: 600;\r\n  margin-left: 4px;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.card-footer a:hover {\r\n  color: #9370db;\r\n}\r\n\r\n@keyframes pulse {\r\n  0% { transform: scale(0.9); opacity: 0.7; }\r\n  50% { transform: scale(1.1); opacity: 1; }\r\n  100% { transform: scale(0.9); opacity: 0.7; }\r\n}\r\n</style>\r\n\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAAW;;EA6BbA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAU;;EAOjBA,KAAK,EAAC,SAAS;EAACC,IAAI,EAAC;;;;;;;;;;EAKXD,KAAK,EAAC;;;EAGrBA,KAAK,EAAC;AAAa;;;uBA/C5BE,mBAAA,CAoDM,OApDNC,UAoDM,G,4BAnDJC,mBAAA,CAA8B;IAAzBJ,KAAK,EAAC;EAAY,4BACvBI,mBAAA,CAiDM,OAjDNC,UAiDM,G,4BAhDJD,mBAAA,CAIM;IAJDJ,KAAK,EAAC;EAAa,IAEtBI,mBAAA,CAAa,YAAT,MAAI,GACRA,mBAAA,CAA4C;IAAzCJ,KAAK,EAAC;EAAU,GAAC,sBAAoB,E,qBAG1CI,mBAAA,CAoCO;IApCDJ,KAAK,EAAC,WAAW;IAAEM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MACnDL,mBAAA,CAQQ,gB,0BAPNA,mBAAA,CAAgB,cAAV,KAAG,qB,gBACTA,mBAAA,CAKC;+DAJeQ,KAAA,CAAAC,IAAI,CAACC,QAAQ,GAAAC,MAAA;IAC3Bd,IAAI,EAAC,MAAM;IACXe,WAAW,EAAC,QAAQ;IACpBC,QAAQ,EAAR;iDAHcL,KAAA,CAAAC,IAAI,CAACC,QAAQ,E;IAAnBI,IAAI,EAAZ;EAA4B,E,MAOhCd,mBAAA,CASQ,gB,0BARNA,mBAAA,CAAe,cAAT,IAAE,qB,gBACRA,mBAAA,CAMC;+DALUQ,KAAA,CAAAC,IAAI,CAACM,QAAQ,GAAAJ,MAAA;IACtBd,IAAI,EAAC,UAAU;IACfe,WAAW,EAAC,OAAO;IACnBI,SAAS,EAAC,GAAG;IACbH,QAAQ,EAAR;iDAJSL,KAAA,CAAAC,IAAI,CAACM,QAAQ,E,KAQ1Bf,mBAAA,CAMM,OANNiB,UAMM,GALJjB,mBAAA,CAGQ,SAHRkB,UAGQ,G,gBAFNlB,mBAAA,CAA0C;+DAA1BQ,KAAA,CAAAW,QAAQ,GAAAR,MAAA;IAAEd,IAAI,EAAC;qDAAfW,KAAA,CAAAW,QAAQ,E,6BACxBnB,mBAAA,CAAiB,cAAX,MAAI,oB,6BAEZA,mBAAA,CAAiD;IAAzCJ,KAAK,EAAC,MAAM;IAACC,IAAI,EAAC;KAAS,OAAK,oB,GAG1CG,mBAAA,CAGS,UAHToB,UAGS,G,CAFMZ,KAAA,CAAAa,OAAO,I,cAApBvB,mBAAA,CAAiC,QAAAwB,UAAA,EAAX,MAAI,M,cAC1BxB,mBAAA,CAA4B,QAAAyB,UAAA,EAAf,UAAQ,G,GAGdf,KAAA,CAAAgB,OAAO,I,cAAhB1B,mBAAA,CAAmD,KAAnD2B,UAAmD,EAAAC,gBAAA,CAAdlB,KAAA,CAAAgB,OAAO,oB,8DAG9CxB,mBAAA,CAGM,OAHN2B,UAGM,G,2CAHmB,UAEvB,qBAAAC,YAAA,CAA8CC,sBAAA;IAAjCC,EAAE,EAAC;EAAW;sBAAC,MAAI,KAAA3B,MAAA,QAAAA,MAAA,O,iBAAJ,MAAI,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}