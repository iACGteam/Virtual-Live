{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport { clearAuthToken, getCurrentUser } from '@/utils/auth';\nimport { updateMockUserPassword } from '@/data/mockUsers';\nexport default {\n  name: 'ProfileView',\n  data() {\n    return {\n      searchQuery: '',\n      navLinks: [{\n        key: 'discover',\n        label: 'å‘ç°å†…å®¹',\n        icon: 'âœ¨'\n      }, {\n        key: 'live',\n        label: 'ç›´æ’­',\n        icon: 'ğŸ“¡'\n      }, {\n        key: 'community',\n        label: 'ç¤¾åŒº',\n        icon: 'ğŸ’¬'\n      }, {\n        key: 'my',\n        label: 'æˆ‘çš„',\n        icon: ''\n      }],\n      activeNav: 'my',\n      user: {\n        avatar: require('@/assets/avatar.jpg'),\n        name: 'zk3zy',\n        isLive: true,\n        following: 250,\n        followers: 86,\n        likes: 4,\n        signature: 'yeeeee',\n        sn: '43114125',\n        age: 20\n      },\n      panel: {\n        avatar: require('@/assets/avatar.jpg'),\n        name: 'zk3zy',\n        followings: 250,\n        followers: 86,\n        likes: '3.0ä¸‡',\n        favorites: [{\n          id: 1,\n          tag: '#Live',\n          title: 'æ²»æ„ˆç«¥å£° #è§é¢ä¼š',\n          gradient: 'linear-gradient(125deg, #fdfcfb 0%, #e2d1c3 100%)'\n        }, {\n          id: 2,\n          tag: '#æ ¡å›­',\n          title: 'å¤§å­¦ç”ŸæƒŠå–œä¸€å¤©',\n          gradient: 'linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)'\n        }, {\n          id: 3,\n          tag: '#MV',\n          title: 'GALI æ–°æ­Œä¸Šçº¿',\n          gradient: 'linear-gradient(135deg, #f6d365 0%, #fda085 100%)'\n        }],\n        quickEntries: [{\n          key: 'history',\n          icon: 'ğŸ•’',\n          label: 'è§‚çœ‹å†å²',\n          value: '30å¤©å†…'\n        }, {\n          key: 'works',\n          icon: 'ğŸ¬',\n          label: 'æˆ‘çš„ä½œå“',\n          value: '0'\n        }],\n        rememberLogin: true\n      },\n      tabs: [{\n        key: 'works',\n        label: 'ä½œå“',\n        badge: null\n      }, {\n        key: 'likes',\n        label: 'å–œæ¬¢'\n      }, {\n        key: 'history',\n        label: 'è§‚çœ‹å†å²'\n      }],\n      activeTab: 'works',\n      workType: 'all',\n      // 'all' æˆ– 'private'\n      workSearchQuery: '',\n      // ä½œå“æœç´¢å…³é”®è¯\n      showDateFilter: false,\n      // æ˜¯å¦æ˜¾ç¤ºæ—¥æœŸç­›é€‰é¢æ¿\n      dateFilterStart: '',\n      // å¼€å§‹æ—¥æœŸ\n      dateFilterEnd: '',\n      // ç»“æŸæ—¥æœŸ\n      showEditModal: false,\n      editForm: {\n        name: '',\n        signature: '',\n        password: '',\n        confirmPassword: ''\n      },\n      showFollowModal: false,\n      followModalTab: 'following',\n      followSearchQuery: '',\n      showSortDropdown: false,\n      selectedSort: 'ç»¼åˆæ’åº',\n      sortOptions: ['ç»¼åˆæ’åº', 'æœ€è¿‘å…³æ³¨', 'æœ€æ—©å…³æ³¨'],\n      sortDropdownTimer: null,\n      isBatchMode: false,\n      selectedItems: [],\n      showRoleCardModal: false,\n      roleCardForm: {\n        portrait: '',\n        name: '',\n        gender: '',\n        birthday: '',\n        height: '',\n        hobby: '',\n        personalityTags: [],\n        raceTags: [],\n        appearanceTags: [],\n        backgroundStory: ''\n      },\n      personalityTags: ['å…ƒæ°”', 'å†·æ„Ÿ', 'æ¸©æŸ”', 'å‚²å¨‡', 'ç¤¾æ', 'ç–¯æ‰¹'],\n      raceTags: ['æ™®é€šäºº', 'ç²¾çµ', 'é­”æ—', 'AI', 'å…½è€³å°‘å¥³'],\n      appearanceTags: ['é•¿å‘', 'åŒé©¬å°¾', 'å¼‚è‰²ç³', 'å…½è€³'],\n      showRoleInfo: false,\n      activeRoleTab: 'basic',\n      roleTabs: [{\n        key: 'basic',\n        label: 'åŸºæœ¬ä¿¡æ¯'\n      }, {\n        key: 'tags',\n        label: 'æ ‡ç­¾'\n      }, {\n        key: 'story',\n        label: 'èƒŒæ™¯æ•…äº‹'\n      }],\n      followingList: [{\n        id: 1,\n        name: 'æ˜Ÿæµ·Nova',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Nova',\n        title: 'è™šæ‹Ÿå¶åƒ',\n        description: 'å‰11ä¸‡å®å­è¹²å¥½åŠ©ç†å¤‡æ³¨æµç¨‹æœ«å°¾ä¸­â€¦â€¦(æ‹’ç»å–â€¦â€¦)',\n        followStatus: 'followed',\n        verified: false,\n        followTime: new Date('2024-01-15').getTime()\n      }, {\n        id: 2,\n        name: 'DANK1NG',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=DANK1NG',\n        title: 'ç”µå­ç«æŠ€èŒä¸šé€‰æ‰‹',\n        subtitle: 'TYLOO DANKING',\n        followStatus: 'followed',\n        verified: true,\n        followTime: new Date('2024-03-20').getTime()\n      }, {\n        id: 3,\n        name: 'NiKo',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=NiKo',\n        title: 'ç”µç«é€‰æ‰‹',\n        subtitle: 'Falcons EsportsèŒä¸šé€‰æ‰‹',\n        followStatus: 'followed',\n        verified: true,\n        followTime: new Date('2024-02-10').getTime()\n      }, {\n        id: 4,\n        name: 'reailty',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=reailty',\n        followStatus: 'mutual',\n        verified: false,\n        followTime: new Date('2023-12-05').getTime()\n      }, {\n        id: 5,\n        name: 'æ£®é˜³(æ— ç•å¥‘çº¦)',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=æ£®é˜³',\n        description: 'è§†é¢‘çš†ä¸ºèŠ‚ç›®æ•ˆæœ',\n        followStatus: 'followed',\n        unreadWorks: 1,\n        verified: false,\n        followTime: new Date('2024-04-01').getTime()\n      }, {\n        id: 6,\n        name: 'LumiRay',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=LumiRay',\n        title: 'è™šæ‹Ÿå¶åƒ',\n        description: 'å…¨æ¯èˆå°è¡¨æ¼”è€…ï¼Œæ¯æ™š8ç‚¹ç›´æ’­',\n        followStatus: 'followed',\n        verified: true,\n        followTime: new Date('2024-01-28').getTime()\n      }, {\n        id: 7,\n        name: 'KiraEcho',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=KiraEcho',\n        title: 'AIè™šæ‹Ÿä¸»æ’­',\n        description: '24/7é™ªä¼´å¼ç›´æ’­ï¼Œæ™ºèƒ½äº’åŠ¨',\n        followStatus: 'followed',\n        verified: false,\n        followTime: new Date('2024-03-15').getTime()\n      }, {\n        id: 8,\n        name: 'NebulaNova',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=NebulaNova',\n        title: 'è™šæ‹Ÿæ­Œæ‰‹',\n        subtitle: 'åŸåˆ›éŸ³ä¹åˆ¶ä½œäºº',\n        followStatus: 'mutual',\n        verified: true,\n        followTime: new Date('2023-11-20').getTime()\n      }],\n      followersList: [{\n        id: 101,\n        name: 'è™šæ‹Ÿä¸–ç•Œæ¢ç´¢è€…',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=explorer',\n        description: 'çƒ­çˆ±è™šæ‹Ÿç›´æ’­çš„æ™®é€šç”¨æˆ·',\n        followStatus: 'not-followed',\n        verified: false\n      }, {\n        id: 102,\n        name: 'TechGamer',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=TechGamer',\n        title: 'ç§‘æŠ€åšä¸»',\n        followStatus: 'not-followed',\n        verified: false\n      }, {\n        id: 103,\n        name: 'VtuberFan',\n        avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=VtuberFan',\n        description: 'è™šæ‹Ÿä¸»æ’­çˆ±å¥½è€…',\n        followStatus: 'mutual',\n        verified: false\n      }],\n      shortVideos: [{\n        id: 1,\n        title: 'æ˜Ÿæµ·èˆªçº¿ç›´æ’­å¹•åèŠ±çµ®',\n        creator: 'NebulaNova',\n        duration: '02:18',\n        views: '5.8ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['LiveCut', 'Sci-Fi'],\n        thumbnailColor: 'linear-gradient(135deg, #FF61D2 0%, #FE9090 100%)'\n      }, {\n        id: 2,\n        title: 'è™šæ‹Ÿå¶åƒèˆå° Â· å¤œå¹•ç‰ˆæœ¬',\n        creator: 'LumiRay',\n        duration: '01:05',\n        views: '3.1ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Dance', 'Stage'],\n        thumbnailColor: 'linear-gradient(135deg, #42E695 0%, #3BB2B8 100%)'\n      }, {\n        id: 3,\n        title: 'ç²‰ä¸äº’åŠ¨é—®ç­”é«˜èƒ½åˆé›†',\n        creator: 'KiraEcho',\n        duration: '03:44',\n        views: '2.4ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Clips', 'Q&A'],\n        thumbnailColor: 'linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)'\n      }, {\n        id: 4,\n        title: 'å…¨æ¯è§’è‰²å»ºæ¨¡ timelapse',\n        creator: 'MoriTech',\n        duration: '02:57',\n        views: '1.9ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['MakingOf', '3D'],\n        thumbnailColor: 'linear-gradient(135deg, #F6D365 0%, #FDA085 100%)'\n      }, {\n        id: 5,\n        title: 'èµ›åšæœ‹å…‹ä¸»é¢˜ç«–å± MV',\n        creator: 'Vexa',\n        duration: '01:42',\n        views: '4.6ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Music', 'Cyber'],\n        thumbnailColor: 'linear-gradient(135deg, #5EFCE8 0%, #736EFE 100%)'\n      }, {\n        id: 6,\n        title: 'ç›´æ’­äº‹æ•…å‰ªè¾‘ï¼šè¶£å‘³åˆé›†',\n        creator: 'Patchy',\n        duration: '02:10',\n        views: '6.2ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Fun', 'Live'],\n        thumbnailColor: 'linear-gradient(135deg, #FAD961 0%, #F76B1C 100%)'\n      }, {\n        id: 7,\n        title: 'AI è™šæ‹Ÿå½¢è±¡è°ƒæ•™æ—¥å¸¸',\n        creator: 'SigmaBot',\n        duration: '01:33',\n        views: '3.7ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['AI', 'BehindScenes'],\n        thumbnailColor: 'linear-gradient(135deg, #FF9966 0%, #FF5E62 100%)'\n      }, {\n        id: 8,\n        title: 'èµ›åšåŸå¸‚è§‚å…‰ Vlog',\n        creator: 'MetroMuse',\n        duration: '02:05',\n        views: '2.9ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Vlog', 'City'],\n        thumbnailColor: 'linear-gradient(135deg, #8EC5FC 0%, #E0C3FC 100%)'\n      }, {\n        id: 9,\n        title: 'è™šæ‹Ÿç¾é£ŸèŠ‚ç›® Â· å®‡å®™é¤æ¡Œ',\n        creator: 'ChefNova',\n        duration: '03:12',\n        views: '4.2ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Food', 'Show'],\n        thumbnailColor: 'linear-gradient(135deg, #FBD786 0%, #f7797d 100%)'\n      }, {\n        id: 10,\n        title: 'ç”µç«è§£è¯´é«˜ç‡ƒç¬é—´',\n        creator: 'CasterRay',\n        duration: '01:58',\n        views: '7.6ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Esports', 'Highlights'],\n        thumbnailColor: 'linear-gradient(135deg, #43C6AC 0%, #F8FFAE 100%)'\n      }, {\n        id: 11,\n        title: 'æ·±å¤œç”µå° Â· é™ªä¼´ç³»åˆ—',\n        creator: 'EchoWave',\n        duration: '04:05',\n        views: '3.3ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Podcast', 'Chill'],\n        thumbnailColor: 'linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)'\n      }, {\n        id: 12,\n        title: 'å…¨æ¯èˆç‹®æ˜¥èŠ‚ç‰¹è¾‘',\n        creator: 'Dynasty Duo',\n        duration: '02:26',\n        views: '5.1ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Festival', 'Dance'],\n        thumbnailColor: 'linear-gradient(135deg, #f5515f 0%, #9f041b 100%)'\n      }, {\n        id: 13,\n        title: 'éŸ³ä¹åˆ¶ä½œç›´æ’­ï¼šå³æ—¶ Remix',\n        creator: 'BeatForge',\n        duration: '02:48',\n        views: '4.9ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Music', 'Remix'],\n        thumbnailColor: 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)'\n      }, {\n        id: 14,\n        title: 'è™šæ‹Ÿé‡å¤–æ±‚ç”ŸæŒ‘æˆ˜',\n        creator: 'WildBytes',\n        duration: '03:20',\n        views: '2.2ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Adventure', 'Challenge'],\n        thumbnailColor: 'linear-gradient(135deg, #134E5E 0%, #71B280 100%)'\n      }, {\n        id: 15,\n        title: 'ç²‰ä¸å…±åˆ›å‰§æƒ…äº’åŠ¨å‰§',\n        creator: 'StorySync',\n        duration: '03:08',\n        views: '6.8ä¸‡æ¬¡è§‚çœ‹',\n        tags: ['Interactive', 'Story'],\n        thumbnailColor: 'linear-gradient(135deg, #F4C4F3 0%, #FC67FA 100%)'\n      }],\n      likedVideoIds: [1, 5, 7, 10, 13, 15],\n      userWorks: []\n    };\n  },\n  created() {\n    this.loadStoredProfile();\n    this.loadUserWorks();\n  },\n  computed: {\n    likedVideos() {\n      return this.shortVideos.filter(video => this.likedVideoIds.includes(video.id));\n    },\n    myWorks() {\n      let works = this.userWorks || [];\n\n      // æ ¹æ® workType è¿‡æ»¤\n      if (this.workType === 'private') {\n        // ç§å¯†ä½œå“æ¨¡å¼ä¸‹ï¼Œåªæ˜¾ç¤ºç§å¯†ä½œå“\n        works = works.filter(work => work.isPrivate === true);\n      }\n      // workType === 'all' æ—¶æ˜¾ç¤ºæ‰€æœ‰ä½œå“ï¼Œä¸éœ€è¦é¢å¤–è¿‡æ»¤\n\n      // æ ¹æ®æœç´¢å…³é”®è¯è¿‡æ»¤\n      if (this.workSearchQuery.trim()) {\n        const query = this.workSearchQuery.trim().toLowerCase();\n        works = works.filter(work => {\n          // æœç´¢æ ‡é¢˜ã€åˆ›ä½œè€…ã€æ ‡ç­¾\n          const titleMatch = work.title?.toLowerCase().includes(query);\n          const creatorMatch = work.creator?.toLowerCase().includes(query);\n          const tagsMatch = work.tags?.some(tag => tag.toLowerCase().includes(query));\n          return titleMatch || creatorMatch || tagsMatch;\n        });\n      }\n\n      // æ ¹æ®æ—¥æœŸèŒƒå›´è¿‡æ»¤\n      if (this.dateFilterStart || this.dateFilterEnd) {\n        works = works.filter(work => {\n          if (!work.uploadTime) return false;\n          const uploadDate = new Date(work.uploadTime);\n          const uploadDateStr = uploadDate.toISOString().split('T')[0]; // YYYY-MM-DDæ ¼å¼\n\n          // å¦‚æœåªæœ‰å¼€å§‹æ—¥æœŸï¼Œç­›é€‰å¤§äºç­‰äºå¼€å§‹æ—¥æœŸçš„ä½œå“\n          if (this.dateFilterStart && !this.dateFilterEnd) {\n            return uploadDateStr >= this.dateFilterStart;\n          }\n\n          // å¦‚æœåªæœ‰ç»“æŸæ—¥æœŸï¼Œç­›é€‰å°äºç­‰äºç»“æŸæ—¥æœŸçš„ä½œå“\n          if (!this.dateFilterStart && this.dateFilterEnd) {\n            return uploadDateStr <= this.dateFilterEnd;\n          }\n\n          // å¦‚æœä¸¤ä¸ªæ—¥æœŸéƒ½æœ‰ï¼Œç­›é€‰åœ¨èŒƒå›´å†…çš„ä½œå“\n          if (this.dateFilterStart && this.dateFilterEnd) {\n            return uploadDateStr >= this.dateFilterStart && uploadDateStr <= this.dateFilterEnd;\n          }\n          return true;\n        });\n      }\n      return works;\n    },\n    worksCount() {\n      return this.userWorks.length;\n    },\n    dateFilterActive() {\n      return !!(this.dateFilterStart || this.dateFilterEnd);\n    },\n    isAllSelected() {\n      const currentVideos = this.activeTab === 'works' ? this.myWorks : this.likedVideos;\n      return currentVideos.length > 0 && this.selectedItems.length === currentVideos.length;\n    },\n    displayedFollowList() {\n      let list = this.followModalTab === 'following' ? this.followingList : this.followersList;\n\n      // æœç´¢è¿‡æ»¤\n      if (this.followSearchQuery.trim()) {\n        const query = this.followSearchQuery.toLowerCase();\n        list = list.filter(user => {\n          return user.name.toLowerCase().includes(query) || user.description && user.description.toLowerCase().includes(query) || user.title && user.title.toLowerCase().includes(query);\n        });\n      }\n\n      // æ’åºï¼ˆä»…å¯¹å…³æ³¨åˆ—è¡¨è¿›è¡Œæ’åºï¼Œç²‰ä¸åˆ—è¡¨ä¸æ’åºï¼‰\n      if (this.followModalTab === 'following' && this.selectedSort !== 'ç»¼åˆæ’åº') {\n        const sortedList = [...list];\n        if (this.selectedSort === 'æœ€è¿‘å…³æ³¨') {\n          sortedList.sort((a, b) => {\n            const timeA = a.followTime || 0;\n            const timeB = b.followTime || 0;\n            return timeB - timeA; // é™åºï¼Œæœ€æ–°çš„åœ¨å‰\n          });\n        } else if (this.selectedSort === 'æœ€æ—©å…³æ³¨') {\n          sortedList.sort((a, b) => {\n            const timeA = a.followTime || 0;\n            const timeB = b.followTime || 0;\n            return timeA - timeB; // å‡åºï¼Œæœ€æ—©çš„åœ¨å‰\n          });\n        }\n        return sortedList;\n      }\n      return list;\n    },\n    currentRoleCard() {\n      // ä»localStorageè·å–è§’è‰²å¡ï¼Œç›´æ¥æ˜¾ç¤ºæœ€æ–°çš„\n      try {\n        const roleCards = JSON.parse(localStorage.getItem('roleCards') || '[]');\n        if (roleCards.length > 0) {\n          // æŒ‰æäº¤æ—¶é—´æ’åºï¼Œå–æœ€æ–°çš„\n          const sortedCards = [...roleCards].sort((a, b) => {\n            const timeA = new Date(a.submitTime || 0).getTime();\n            const timeB = new Date(b.submitTime || 0).getTime();\n            return timeB - timeA;\n          });\n          return sortedCards[0];\n        }\n      } catch (err) {\n        console.warn('åŠ è½½è§’è‰²å¡å¤±è´¥', err);\n      }\n      return null;\n    }\n  },\n  watch: {\n    '$route.query.tab': {\n      immediate: true,\n      handler(newTab) {\n        this.syncTabFromRoute(newTab);\n      }\n    },\n    '$route.path'() {\n      // å½“è·¯ç”±å˜åŒ–æ—¶ï¼Œé‡æ–°åŠ è½½ä½œå“ï¼ˆä»ä¸Šä¼ é¡µé¢è¿”å›æ—¶ï¼‰\n      this.loadUserWorks();\n    },\n    activeTab() {\n      // åˆ‡æ¢æ ‡ç­¾é¡µæ—¶é€€å‡ºæ‰¹é‡ç®¡ç†æ¨¡å¼\n      if (this.isBatchMode) {\n        this.exitBatchMode();\n      }\n    }\n  },\n  mounted() {\n    this.consumePendingProfileTab();\n    // ç›‘å¬storageäº‹ä»¶ï¼Œå½“å…¶ä»–é¡µé¢ä¿å­˜ä½œå“æ—¶è‡ªåŠ¨æ›´æ–°\n    window.addEventListener('storage', this.handleStorageChange);\n    // ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼Œå½“ä¸Šä¼ é¡µé¢ä¿å­˜ä½œå“æ—¶è‡ªåŠ¨æ›´æ–°\n    window.addEventListener('userWorksUpdated', this.loadUserWorks);\n    // ç‚¹å‡»å¤–éƒ¨å…³é—­æ—¥æœŸç­›é€‰é¢æ¿\n    document.addEventListener('click', this.handleClickOutside);\n  },\n  beforeUnmount() {\n    window.removeEventListener('storage', this.handleStorageChange);\n    window.removeEventListener('userWorksUpdated', this.loadUserWorks);\n    document.removeEventListener('click', this.handleClickOutside);\n    if (this.sortDropdownTimer) {\n      clearTimeout(this.sortDropdownTimer);\n      this.sortDropdownTimer = null;\n    }\n  },\n  methods: {\n    handleWorkSearch(event) {\n      // æŒ‰å›è½¦é”®æ—¶è§¦å‘æœç´¢ï¼Œç”±äºä½¿ç”¨äº† computedï¼Œè¿‡æ»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ\n      // è¿™é‡Œå¯ä»¥è®©è¾“å…¥æ¡†å¤±ç„¦ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ\n      if (event?.target) {\n        event.target.blur();\n      }\n    },\n    toggleDateFilter() {\n      this.showDateFilter = !this.showDateFilter;\n    },\n    closeDateFilter() {\n      this.showDateFilter = false;\n    },\n    applyDateFilter() {\n      // éªŒè¯æ—¥æœŸèŒƒå›´\n      if (this.dateFilterStart && this.dateFilterEnd) {\n        if (this.dateFilterStart > this.dateFilterEnd) {\n          alert('å¼€å§‹æ—¥æœŸä¸èƒ½æ™šäºç»“æŸæ—¥æœŸ');\n          return;\n        }\n      }\n      // ç”±äºä½¿ç”¨äº†computedï¼Œè¿‡æ»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ\n      this.closeDateFilter();\n    },\n    clearDateFilter() {\n      this.dateFilterStart = '';\n      this.dateFilterEnd = '';\n      this.closeDateFilter();\n    },\n    openEditModal() {\n      this.editForm.name = this.user.name;\n      this.editForm.signature = this.user.signature;\n      this.editForm.password = '';\n      this.editForm.confirmPassword = '';\n      this.showEditModal = true;\n    },\n    closeEditModal() {\n      this.showEditModal = false;\n      this.editForm.password = '';\n      this.editForm.confirmPassword = '';\n    },\n    saveProfile() {\n      const trimmedName = this.editForm.name?.trim();\n      const trimmedSignature = this.editForm.signature?.trim() ?? '';\n      const password = this.editForm.password?.trim();\n      const confirmPassword = this.editForm.confirmPassword?.trim();\n\n      // éªŒè¯å¯†ç \n      if (password || confirmPassword) {\n        if (!password) {\n          alert('è¯·è¾“å…¥æ–°å¯†ç ');\n          return;\n        }\n        if (password.length < 6) {\n          alert('å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½');\n          return;\n        }\n        if (password !== confirmPassword) {\n          alert('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´');\n          return;\n        }\n        // æ›´æ–°å¯†ç \n        const currentUsername = getCurrentUser();\n        if (!currentUsername) {\n          alert('æ— æ³•è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼Œè¯·é‡æ–°ç™»å½•');\n          return;\n        }\n        const success = updateMockUserPassword(currentUsername, password);\n        if (success) {\n          alert('å¯†ç å·²æ›´æ–°');\n        } else {\n          alert('å¯†ç æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•');\n          return;\n        }\n      }\n      if (trimmedName) {\n        this.user.name = trimmedName;\n        this.panel.name = trimmedName;\n      }\n      this.user.signature = trimmedSignature;\n      this.persistProfile();\n      this.showEditModal = false;\n    },\n    loadStoredProfile() {\n      try {\n        const cached = localStorage.getItem('profileUser');\n        if (!cached) return;\n        const parsed = JSON.parse(cached);\n        if (parsed.name) {\n          this.user.name = parsed.name;\n          this.panel.name = parsed.name;\n        }\n        if (typeof parsed.signature === 'string') {\n          this.user.signature = parsed.signature;\n        }\n      } catch (err) {\n        console.warn('åŠ è½½æœ¬åœ°èµ„æ–™å¤±è´¥', err);\n      }\n    },\n    persistProfile() {\n      try {\n        localStorage.setItem('profileUser', JSON.stringify({\n          name: this.user.name,\n          signature: this.user.signature\n        }));\n      } catch (err) {\n        console.warn('ä¿å­˜æœ¬åœ°èµ„æ–™å¤±è´¥', err);\n      }\n    },\n    loadUserWorks() {\n      try {\n        const works = localStorage.getItem('userWorks');\n        if (works) {\n          this.userWorks = JSON.parse(works);\n        } else {\n          this.userWorks = [];\n        }\n        // æ›´æ–°å¿«é€Ÿå…¥å£ä¸­çš„ä½œå“æ•°é‡\n        const worksEntry = this.panel.quickEntries.find(entry => entry.key === 'works');\n        if (worksEntry) {\n          worksEntry.value = this.userWorks.length.toString();\n        }\n      } catch (err) {\n        console.warn('åŠ è½½ä½œå“å¤±è´¥', err);\n        this.userWorks = [];\n      }\n    },\n    saveUserWorks() {\n      try {\n        localStorage.setItem('userWorks', JSON.stringify(this.userWorks));\n        // æ›´æ–°å¿«é€Ÿå…¥å£ä¸­çš„ä½œå“æ•°é‡\n        const worksEntry = this.panel.quickEntries.find(entry => entry.key === 'works');\n        if (worksEntry) {\n          worksEntry.value = this.userWorks.length.toString();\n        }\n        // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œé€šçŸ¥å…¶ä»–é¡µé¢æ›´æ–°\n        window.dispatchEvent(new Event('userWorksUpdated'));\n      } catch (err) {\n        console.warn('ä¿å­˜ä½œå“å¤±è´¥', err);\n      }\n    },\n    handleStorageChange(event) {\n      // å½“localStorageä¸­çš„userWorkså‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°åŠ è½½\n      if (event.key === 'userWorks') {\n        this.loadUserWorks();\n      }\n    },\n    handleNavClick(link) {\n      this.activeNav = link.key;\n      if (link.key === 'my') return;\n      const pathMap = {\n        discover: '/',\n        live: '/live',\n        community: '/community',\n        my: '/profile'\n      };\n      this.$router.push(pathMap[link.key] || '/');\n    },\n    navigateToTab(tabKey, {\n      scroll = true,\n      syncQuery = true\n    } = {}) {\n      if (!tabKey) return;\n      if (this.activeTab !== tabKey) {\n        this.activeTab = tabKey;\n      }\n      if (syncQuery) {\n        const nextQuery = {\n          ...this.$route.query,\n          tab: tabKey\n        };\n        this.$router.replace({\n          path: this.$route.path,\n          query: nextQuery\n        }).catch(() => {});\n      }\n      if (scroll) {\n        this.scrollToTabSection();\n      }\n    },\n    openLikesTab() {\n      this.navigateToTab('likes');\n    },\n    handlePanelQuickEntry(link) {\n      if (!link?.key) return;\n      this.navigateToTab(link.key);\n    },\n    consumePendingProfileTab() {\n      try {\n        const pendingTab = sessionStorage.getItem('pendingProfileTab');\n        if (!pendingTab) return;\n        sessionStorage.removeItem('pendingProfileTab');\n        const validTabs = this.tabs.map(t => t.key);\n        if (!validTabs.includes(pendingTab)) return;\n        this.navigateToTab(pendingTab, {\n          syncQuery: false\n        });\n      } catch (err) {\n        console.warn('è¯»å–ä¸ªäººé¡µç›®æ ‡æ ‡ç­¾å¤±è´¥', err);\n      }\n    },\n    syncTabFromRoute(tab) {\n      const validTabs = this.tabs.map(t => t.key);\n      if (!tab || !validTabs.includes(tab)) return;\n      if (this.activeTab !== tab) {\n        this.activeTab = tab;\n      }\n      this.scrollToTabSection(false);\n    },\n    scrollToTabSection(withAnimation = true) {\n      this.$nextTick(() => {\n        const section = this.$refs.tabSection;\n        if (section?.scrollIntoView) {\n          section.scrollIntoView({\n            behavior: withAnimation ? 'smooth' : 'auto',\n            block: 'start'\n          });\n        }\n      });\n    },\n    handleLogout() {\n      clearAuthToken();\n      this.$router.push({\n        name: 'login'\n      }).catch(() => {});\n    },\n    goToUploadVideo() {\n      this.$router.push({\n        path: '/upload-video'\n      }).catch(() => {});\n    },\n    goToGoingLive() {\n      // ä»ä¸ªäººé¡µâ€œå¼€ç›´æ’­â€å…¥å£è·³è½¬åˆ°ç›´æ’­ç®¡ç†é¡µï¼ˆå¼€æ’­è®¾ç½®ï¼‰\n      this.$router.push({\n        path: '/live-manage'\n      }).catch(() => {});\n    },\n    openFollowModal(tab) {\n      this.followModalTab = tab || 'following';\n      this.followSearchQuery = '';\n      this.showFollowModal = true;\n    },\n    closeFollowModal() {\n      this.showFollowModal = false;\n      this.followSearchQuery = '';\n      this.showSortDropdown = false;\n      this.selectedSort = 'ç»¼åˆæ’åº';\n    },\n    enterBatchMode() {\n      this.isBatchMode = true;\n      this.selectedItems = [];\n    },\n    exitBatchMode() {\n      this.isBatchMode = false;\n      this.selectedItems = [];\n    },\n    toggleSelectItem(itemId) {\n      const index = this.selectedItems.indexOf(itemId);\n      if (index > -1) {\n        this.selectedItems.splice(index, 1);\n      } else {\n        this.selectedItems.push(itemId);\n      }\n    },\n    toggleSelectAll() {\n      const currentVideos = this.activeTab === 'works' ? this.myWorks : this.likedVideos;\n      if (this.isAllSelected) {\n        this.selectedItems = [];\n      } else {\n        this.selectedItems = currentVideos.map(video => video.id);\n      }\n    },\n    handleBatchDelete() {\n      if (this.selectedItems.length === 0) {\n        return;\n      }\n      if (confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${this.selectedItems.length} ä¸ªä½œå“å—ï¼Ÿ`)) {\n        if (this.activeTab === 'works') {\n          this.userWorks = this.userWorks.filter(work => !this.selectedItems.includes(work.id));\n          this.saveUserWorks();\n        } else if (this.activeTab === 'likes') {\n          this.likedVideoIds = this.likedVideoIds.filter(id => !this.selectedItems.includes(id));\n        }\n        this.selectedItems = [];\n        // å¦‚æœåˆ é™¤åæ²¡æœ‰ä½œå“äº†ï¼Œè‡ªåŠ¨é€€å‡ºæ‰¹é‡ç®¡ç†æ¨¡å¼\n        const currentVideos = this.activeTab === 'works' ? this.myWorks : this.likedVideos;\n        if (currentVideos.length === 0) {\n          this.exitBatchMode();\n        }\n      }\n    },\n    handleBatchPermission() {\n      if (this.selectedItems.length === 0) {\n        return;\n      }\n      if (this.activeTab === 'works') {\n        const count = this.selectedItems.length;\n        // å°†é€‰ä¸­çš„ä½œå“è®¾ä¸ºç§å¯†\n        this.userWorks.forEach(work => {\n          if (this.selectedItems.includes(work.id)) {\n            work.isPrivate = true;\n          }\n        });\n        this.saveUserWorks();\n        this.selectedItems = [];\n        alert(`å·²å°† ${count} ä¸ªä½œå“è®¾ä¸ºç§å¯†`);\n      }\n    },\n    toggleFollow(user) {\n      if (user.followStatus === 'followed') {\n        user.followStatus = 'not-followed';\n      } else if (user.followStatus === 'mutual') {\n        user.followStatus = 'not-followed';\n      } else {\n        user.followStatus = 'followed';\n      }\n    },\n    getFollowButtonText(status) {\n      const statusMap = {\n        'followed': 'å·²å…³æ³¨',\n        'mutual': 'ç›¸äº’å…³æ³¨',\n        'not-followed': 'å…³æ³¨'\n      };\n      return statusMap[status] || 'å…³æ³¨';\n    },\n    selectSort(option) {\n      this.selectedSort = option;\n      this.showSortDropdown = false;\n      if (this.sortDropdownTimer) {\n        clearTimeout(this.sortDropdownTimer);\n        this.sortDropdownTimer = null;\n      }\n    },\n    handleSortDropdownEnter() {\n      if (this.sortDropdownTimer) {\n        clearTimeout(this.sortDropdownTimer);\n        this.sortDropdownTimer = null;\n      }\n      this.showSortDropdown = true;\n    },\n    handleSortDropdownLeave() {\n      this.sortDropdownTimer = setTimeout(() => {\n        this.showSortDropdown = false;\n        this.sortDropdownTimer = null;\n      }, 300);\n    },\n    getThumbnailStyle(video) {\n      // ä¼˜å…ˆä½¿ç”¨ä¸Šä¼ çš„å°é¢\n      let thumbnailUrl = video.thumbnail;\n\n      // å¦‚æœæœ‰coverKeyï¼Œå°è¯•ä»sessionStorageè¯»å–\n      if (video.coverKey && sessionStorage.getItem(video.coverKey)) {\n        thumbnailUrl = sessionStorage.getItem(video.coverKey);\n      }\n      if (thumbnailUrl && thumbnailUrl !== this.defaultThumbnail) {\n        return {\n          backgroundImage: `url(${thumbnailUrl})`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat',\n          backgroundColor: video.thumbnailColor || '#f5f5f5'\n        };\n      }\n      return {\n        background: video.thumbnailColor || '#f5f5f5'\n      };\n    },\n    handleVideoClick(video) {\n      // åœ¨æ‰¹é‡ç®¡ç†æ¨¡å¼ä¸‹ï¼Œä¸è·³è½¬\n      if (this.isBatchMode) {\n        return;\n      }\n      // è·³è½¬åˆ°è§†é¢‘é¡µé¢ï¼Œä¼ é€’è§†é¢‘ID\n      this.$router.push({\n        path: '/video',\n        query: {\n          id: video.id\n        }\n      }).catch(() => {});\n    },\n    openRoleCardModal() {\n      // å¦‚æœæœ‰ç°æœ‰è§’è‰²å¡ï¼ŒåŠ è½½æ•°æ®åˆ°è¡¨å•\n      if (this.currentRoleCard) {\n        this.roleCardForm = {\n          portrait: this.currentRoleCard.portrait || '',\n          name: this.currentRoleCard.name || '',\n          gender: this.currentRoleCard.gender || '',\n          birthday: this.currentRoleCard.birthday || '',\n          height: this.currentRoleCard.height || '',\n          hobby: this.currentRoleCard.hobby || '',\n          personalityTags: this.currentRoleCard.personalityTags ? [...this.currentRoleCard.personalityTags] : [],\n          raceTags: this.currentRoleCard.raceTags ? [...this.currentRoleCard.raceTags] : [],\n          appearanceTags: this.currentRoleCard.appearanceTags ? [...this.currentRoleCard.appearanceTags] : [],\n          backgroundStory: this.currentRoleCard.backgroundStory || ''\n        };\n      } else {\n        // å¦‚æœæ²¡æœ‰è§’è‰²å¡ï¼Œé‡ç½®è¡¨å•\n        this.roleCardForm = {\n          portrait: '',\n          name: '',\n          gender: '',\n          birthday: '',\n          height: '',\n          hobby: '',\n          personalityTags: [],\n          raceTags: [],\n          appearanceTags: [],\n          backgroundStory: ''\n        };\n      }\n      this.showRoleCardModal = true;\n    },\n    closeRoleCardModal() {\n      this.showRoleCardModal = false;\n      // é‡ç½®è¡¨å•\n      this.roleCardForm = {\n        portrait: '',\n        name: '',\n        gender: '',\n        birthday: '',\n        height: '',\n        hobby: '',\n        personalityTags: [],\n        raceTags: [],\n        appearanceTags: [],\n        backgroundStory: ''\n      };\n      // é‡ç½®æ–‡ä»¶è¾“å…¥\n      if (this.$refs.portraitInput) {\n        this.$refs.portraitInput.value = '';\n      }\n    },\n    submitRoleCard() {\n      // è¡¨å•éªŒè¯\n      if (!this.roleCardForm.name || !this.roleCardForm.name.trim()) {\n        alert('è¯·è¾“å…¥è§’è‰²åç§°');\n        return;\n      }\n      if (!this.roleCardForm.gender) {\n        alert('è¯·é€‰æ‹©æ€§åˆ«');\n        return;\n      }\n      if (!this.roleCardForm.birthday) {\n        alert('è¯·é€‰æ‹©ç”Ÿæ—¥');\n        return;\n      }\n      if (!this.roleCardForm.height || this.roleCardForm.height <= 0) {\n        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„èº«é«˜');\n        return;\n      }\n      if (this.roleCardForm.personalityTags.length === 0) {\n        alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ€§æ ¼æ ‡ç­¾');\n        return;\n      }\n      if (this.roleCardForm.raceTags.length === 0) {\n        alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç§æ—æ ‡ç­¾');\n        return;\n      }\n      if (this.roleCardForm.appearanceTags.length === 0) {\n        alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªå¤–è§‚æ ‡ç­¾');\n        return;\n      }\n      if (!this.roleCardForm.backgroundStory || !this.roleCardForm.backgroundStory.trim()) {\n        alert('è¯·è¾“å…¥èƒŒæ™¯æ•…äº‹');\n        return;\n      }\n\n      // ä¿å­˜è§’è‰²å¡æ•°æ®åˆ°localStorage\n      try {\n        const roleCards = JSON.parse(localStorage.getItem('roleCards') || '[]');\n        if (this.currentRoleCard) {\n          // ç¼–è¾‘æ¨¡å¼ï¼šæ›´æ–°ç°æœ‰è§’è‰²å¡\n          const index = roleCards.findIndex(card => card.id === this.currentRoleCard.id);\n          if (index !== -1) {\n            roleCards[index] = {\n              ...this.currentRoleCard,\n              ...this.roleCardForm,\n              portrait: this.roleCardForm.portrait || this.currentRoleCard.portrait || '',\n              name: this.roleCardForm.name.trim(),\n              hobby: this.roleCardForm.hobby.trim(),\n              backgroundStory: this.roleCardForm.backgroundStory.trim(),\n              // ä¿ç•™åŸæœ‰çš„idå’ŒsubmitTime\n              id: this.currentRoleCard.id,\n              submitTime: this.currentRoleCard.submitTime || new Date().toISOString(),\n              status: 'approved'\n            };\n            localStorage.setItem('roleCards', JSON.stringify(roleCards));\n            alert('è§’è‰²å¡å·²æ›´æ–°æˆåŠŸï¼');\n          } else {\n            alert('æœªæ‰¾åˆ°è¦ç¼–è¾‘çš„è§’è‰²å¡');\n            return;\n          }\n        } else {\n          // æ–°å»ºæ¨¡å¼ï¼šåˆ›å»ºæ–°è§’è‰²å¡\n          const newRoleCard = {\n            id: Date.now(),\n            ...this.roleCardForm,\n            portrait: this.roleCardForm.portrait || '',\n            name: this.roleCardForm.name.trim(),\n            hobby: this.roleCardForm.hobby.trim(),\n            backgroundStory: this.roleCardForm.backgroundStory.trim(),\n            submitTime: new Date().toISOString(),\n            status: 'approved' // ç›´æ¥é€šè¿‡ï¼Œæ— éœ€å®¡æ ¸\n          };\n          roleCards.push(newRoleCard);\n          localStorage.setItem('roleCards', JSON.stringify(roleCards));\n          alert('è§’è‰²å¡å·²åˆ›å»ºæˆåŠŸï¼');\n        }\n        this.closeRoleCardModal();\n        // è‡ªåŠ¨å±•å¼€è§’è‰²ä¿¡æ¯é¢æ¿\n        if (!this.showRoleInfo) {\n          this.showRoleInfo = true;\n        }\n      } catch (err) {\n        console.error('ä¿å­˜è§’è‰²å¡å¤±è´¥', err);\n        alert('æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•');\n      }\n    },\n    toggleRoleInfo() {\n      this.showRoleInfo = !this.showRoleInfo;\n    },\n    getGenderText(gender) {\n      const genderMap = {\n        'male': 'ç”·',\n        'female': 'å¥³',\n        'other': 'å…¶ä»–'\n      };\n      return genderMap[gender] || gender;\n    },\n    formatBirthday(birthday) {\n      if (!birthday) return '';\n      const date = new Date(birthday);\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      return `${month}æœˆ${day}æ—¥`;\n    },\n    triggerPortraitInput() {\n      this.$refs.portraitInput?.click();\n    },\n    handlePortraitSelect(event) {\n      const file = event.target.files?.[0];\n      if (file) {\n        // æ£€æŸ¥æ–‡ä»¶ç±»å‹\n        if (!file.type.startsWith('image/')) {\n          alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶');\n          // é‡ç½®æ–‡ä»¶è¾“å…¥\n          if (this.$refs.portraitInput) {\n            this.$refs.portraitInput.value = '';\n          }\n          return;\n        }\n        // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º5MBï¼‰\n        const maxSize = 5 * 1024 * 1024;\n        if (file.size > maxSize) {\n          alert('å›¾ç‰‡æ–‡ä»¶è¿‡å¤§ï¼ˆè¶…è¿‡5MBï¼‰ï¼Œè¯·é€‰æ‹©è¾ƒå°çš„å›¾ç‰‡');\n          // é‡ç½®æ–‡ä»¶è¾“å…¥\n          if (this.$refs.portraitInput) {\n            this.$refs.portraitInput.value = '';\n          }\n          return;\n        }\n        // å°†å›¾ç‰‡è½¬æ¢ä¸ºbase64\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.roleCardForm.portrait = e.target.result;\n        };\n        reader.onerror = () => {\n          alert('è¯»å–å›¾ç‰‡æ–‡ä»¶å¤±è´¥ï¼Œè¯·é‡è¯•');\n          // é‡ç½®æ–‡ä»¶è¾“å…¥\n          if (this.$refs.portraitInput) {\n            this.$refs.portraitInput.value = '';\n          }\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n};","map":{"version":3,"names":["clearAuthToken","getCurrentUser","updateMockUserPassword","name","data","searchQuery","navLinks","key","label","icon","activeNav","user","avatar","require","isLive","following","followers","likes","signature","sn","age","panel","followings","favorites","id","tag","title","gradient","quickEntries","value","rememberLogin","tabs","badge","activeTab","workType","workSearchQuery","showDateFilter","dateFilterStart","dateFilterEnd","showEditModal","editForm","password","confirmPassword","showFollowModal","followModalTab","followSearchQuery","showSortDropdown","selectedSort","sortOptions","sortDropdownTimer","isBatchMode","selectedItems","showRoleCardModal","roleCardForm","portrait","gender","birthday","height","hobby","personalityTags","raceTags","appearanceTags","backgroundStory","showRoleInfo","activeRoleTab","roleTabs","followingList","description","followStatus","verified","followTime","Date","getTime","subtitle","unreadWorks","followersList","shortVideos","creator","duration","views","tags","thumbnailColor","likedVideoIds","userWorks","created","loadStoredProfile","loadUserWorks","computed","likedVideos","filter","video","includes","myWorks","works","work","isPrivate","trim","query","toLowerCase","titleMatch","creatorMatch","tagsMatch","some","uploadTime","uploadDate","uploadDateStr","toISOString","split","worksCount","length","dateFilterActive","isAllSelected","currentVideos","displayedFollowList","list","sortedList","sort","a","b","timeA","timeB","currentRoleCard","roleCards","JSON","parse","localStorage","getItem","sortedCards","submitTime","err","console","warn","watch","immediate","handler","newTab","syncTabFromRoute","$route.path","exitBatchMode","mounted","consumePendingProfileTab","window","addEventListener","handleStorageChange","document","handleClickOutside","beforeUnmount","removeEventListener","clearTimeout","methods","handleWorkSearch","event","target","blur","toggleDateFilter","closeDateFilter","applyDateFilter","alert","clearDateFilter","openEditModal","closeEditModal","saveProfile","trimmedName","trimmedSignature","currentUsername","success","persistProfile","cached","parsed","setItem","stringify","worksEntry","find","entry","toString","saveUserWorks","dispatchEvent","Event","handleNavClick","link","pathMap","discover","live","community","my","$router","push","navigateToTab","tabKey","scroll","syncQuery","nextQuery","$route","tab","replace","path","catch","scrollToTabSection","openLikesTab","handlePanelQuickEntry","pendingTab","sessionStorage","removeItem","validTabs","map","t","withAnimation","$nextTick","section","$refs","tabSection","scrollIntoView","behavior","block","handleLogout","goToUploadVideo","goToGoingLive","openFollowModal","closeFollowModal","enterBatchMode","toggleSelectItem","itemId","index","indexOf","splice","toggleSelectAll","handleBatchDelete","confirm","handleBatchPermission","count","forEach","toggleFollow","getFollowButtonText","status","statusMap","selectSort","option","handleSortDropdownEnter","handleSortDropdownLeave","setTimeout","getThumbnailStyle","thumbnailUrl","thumbnail","coverKey","defaultThumbnail","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundColor","background","handleVideoClick","openRoleCardModal","closeRoleCardModal","portraitInput","submitRoleCard","findIndex","card","newRoleCard","now","error","toggleRoleInfo","getGenderText","genderMap","formatBirthday","date","month","getMonth","day","getDate","triggerPortraitInput","click","handlePortraitSelect","file","files","type","startsWith","maxSize","size","reader","FileReader","onload","e","result","onerror","readAsDataURL"],"sources":["C:\\Users\\13765\\Desktop\\vitualieve\\front\\Virtual-Live\\front\\src\\views\\ProfileView.vue"],"sourcesContent":["<template>\r\n  <div class=\"profile-page\">\r\n    <aside class=\"sidebar\">\r\n      <div class=\"brand\">\r\n        <div class=\"logo\">VL</div>\r\n        <div class=\"brand-text\">\r\n          <h1>VirtuaLive</h1>\r\n          <p>è™šæ‹Ÿäº’åŠ¨ä¸­å¿ƒ</p>\r\n        </div>\r\n      </div>\r\n\r\n      <nav class=\"nav-links\">\r\n        <button\r\n          v-for=\"link in navLinks\"\r\n          :key=\"link.key\"\r\n          :class=\"['nav-link', { active: activeNav === link.key }]\"\r\n          @click=\"handleNavClick(link)\"\r\n        >\r\n          <span class=\"icon\">{{ link.icon }}</span>\r\n          <span>{{ link.label }}</span>\r\n        </button>\r\n      </nav>\r\n    </aside>\r\n\r\n    <main class=\"profile-content\">\r\n      <section class=\"search-bar\">\r\n      <div class=\"search-input\">\r\n        <div class=\"search-field\">\r\n          <span class=\"search-icon\">ğŸ”</span>\r\n          <input\r\n            v-model=\"searchQuery\"\r\n            type=\"text\"\r\n            placeholder=\"æœç´¢ä½ æ„Ÿå…´è¶£çš„å†…å®¹...\"\r\n          >\r\n        </div>\r\n        <span class=\"search-divider\"></span>\r\n        <button class=\"search-btn\">æœç´¢</button>\r\n      </div>\r\n\r\n      <div class=\"search-actions\">\r\n        <div class=\"action-dropdown\">\r\n          <button class=\"action-btn primary dropdown-toggle\">æŠ•ç¨¿</button>\r\n          <div class=\"dropdown-menu\">\r\n            <button class=\"dropdown-item\" @click=\"goToUploadVideo\">å‘å¸ƒè§†é¢‘</button>\r\n            <button class=\"dropdown-item\" @click=\"goToGoingLive\">å¼€ç›´æ’­</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"avatar-dropdown\">\r\n          <button class=\"avatar-btn\">\r\n            <img :src=\"panel.avatar\" alt=\"ç”¨æˆ·å¤´åƒ\">\r\n          </button>\r\n          <div class=\"profile-panel\">\r\n            <div class=\"profile-header\">\r\n              <div class=\"profile-avatar\">\r\n                <img :src=\"panel.avatar\" alt=\"ç”¨æˆ·å¤´åƒ\">\r\n              </div>\r\n              <div>\r\n                <p class=\"profile-name\">{{ panel.name }}</p>\r\n                <p class=\"profile-stats\">\r\n                  å…³æ³¨ {{ panel.followings }} Â· ç²‰ä¸ {{ panel.followers }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <section class=\"favorite-section\">\r\n              <div class=\"favorites-hover-zone\">\r\n                <div\r\n                  class=\"section-title clickable\"\r\n                  role=\"button\"\r\n                  tabindex=\"0\"\r\n                  @click=\"openLikesTab\"\r\n                  @keydown.enter.prevent=\"openLikesTab\"\r\n                  @keydown.space.prevent=\"openLikesTab\"\r\n                >\r\n                  <span>â¤ï¸ æˆ‘çš„å–œæ¬¢</span>\r\n                  <span class=\"section-count\">{{ panel.likes }}</span>\r\n                </div>\r\n                <div class=\"favorite-cards\">\r\n                  <article\r\n                    v-for=\"fav in panel.favorites\"\r\n                    :key=\"fav.id\"\r\n                    class=\"favorite-card\"\r\n                  >\r\n                    <div class=\"fav-thumb\" :style=\"{ background: fav.gradient }\">\r\n                      <span>{{ fav.tag }}</span>\r\n                    </div>\r\n                    <p>{{ fav.title }}</p>\r\n                  </article>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <section class=\"quick-links\">\r\n              <button\r\n                v-for=\"link in panel.quickEntries\"\r\n                :key=\"link.label\"\r\n                class=\"quick-link\"\r\n                @click=\"handlePanelQuickEntry(link)\"\r\n              >\r\n                <div class=\"ql-left\">\r\n                  <span class=\"ql-icon\">{{ link.icon }}</span>\r\n                  <span>{{ link.label }}</span>\r\n                </div>\r\n                <span class=\"ql-value\">{{ link.value }}</span>\r\n              </button>\r\n            </section>\r\n\r\n            <section class=\"secondary-links\">\r\n              <button\r\n                v-for=\"link in panel.secondaryEntries\"\r\n                :key=\"link.label\"\r\n                class=\"secondary-link\"\r\n              >\r\n                <span>{{ link.icon }}</span>\r\n                <span>{{ link.label }}</span>\r\n              </button>\r\n            </section>\r\n\r\n            <section class=\"profile-footer\">\r\n              <button class=\"logout\" @click=\"handleLogout\">é€€å‡ºç™»å½•</button>\r\n              <label class=\"remember-toggle\">\r\n                <input type=\"checkbox\" v-model=\"panel.rememberLogin\">\r\n                <span>ä¿å­˜ç™»å½•ä¿¡æ¯</span>\r\n              </label>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </section>\r\n\r\n      <section class=\"hero\">\r\n        <div class=\"cover\"></div>\r\n        <div class=\"profile-card\">\r\n          <img class=\"avatar\" :src=\"user.avatar\" alt=\"avatar\">\r\n          <div class=\"info\">\r\n            <div class=\"name-row\">\r\n              <h1>{{ user.name }}</h1>\r\n              <button class=\"edit-btn\" @click=\"openEditModal\">\r\n                âœï¸\r\n              </button>\r\n            </div>\r\n            <div class=\"stats\">\r\n              <span class=\"stat-item clickable\" @click=\"openFollowModal('following')\">å…³æ³¨ {{ user.following }}</span>\r\n              <span class=\"stat-item clickable\" @click=\"openFollowModal('followers')\">ç²‰ä¸ {{ user.followers }}</span>\r\n              <span>è·èµ {{ user.likes }}</span>\r\n            </div>\r\n            <p class=\"signature\">{{ user.signature }}</p>\r\n          </div>\r\n          <button class=\"role-card-btn\" @click=\"openRoleCardModal\">\r\n            ğŸ­ {{ currentRoleCard ? 'ç¼–è¾‘è§’è‰²å¡' : 'ç”³è¯·è§’è‰²å¡' }}\r\n          </button>\r\n        </div>\r\n        <!-- åŠåœ†å½¢æŒ‰é’® -->\r\n        <button \r\n          class=\"role-info-toggle-btn\"\r\n          :class=\"{ 'expanded': showRoleInfo }\"\r\n          @click=\"toggleRoleInfo\"\r\n        >\r\n          <span class=\"toggle-icon\">{{ showRoleInfo ? 'â–²' : 'â–¼' }}</span>\r\n        </button>\r\n        <!-- è§’è‰²ä¿¡æ¯ä¸‹æ‹‰æ¡† -->\r\n        <div \r\n          class=\"role-info-panel\"\r\n          :class=\"{ 'expanded': showRoleInfo }\"\r\n        >\r\n          <div class=\"role-info-content\">\r\n            <div class=\"role-portrait\">\r\n              <img \r\n                v-if=\"currentRoleCard && currentRoleCard.portrait\" \r\n                :src=\"currentRoleCard.portrait\" \r\n                alt=\"è§’è‰²è‚–åƒ\"\r\n              >\r\n              <div v-else class=\"role-portrait-placeholder\">\r\n                <span>ğŸ­</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"role-details\">\r\n              <div class=\"role-header\">\r\n                <h2 class=\"role-name\">{{ currentRoleCard ? currentRoleCard.name : 'æš‚æ— è§’è‰²' }}</h2>\r\n              </div>\r\n              <div class=\"role-tabs\">\r\n                <button\r\n                  v-for=\"tab in roleTabs\"\r\n                  :key=\"tab.key\"\r\n                  :class=\"['role-tab', { active: activeRoleTab === tab.key }]\"\r\n                  @click=\"activeRoleTab = tab.key\"\r\n                >\r\n                  {{ tab.label }}\r\n                </button>\r\n              </div>\r\n              <div class=\"role-tab-content\">\r\n                <!-- åŸºæœ¬ä¿¡æ¯ -->\r\n                <div v-if=\"activeRoleTab === 'basic'\" class=\"role-basic-info\">\r\n                  <div class=\"info-item\" v-if=\"currentRoleCard && currentRoleCard.gender\">\r\n                    <span class=\"info-label\">æ€§åˆ«</span>\r\n                    <span class=\"info-value\">{{ getGenderText(currentRoleCard.gender) }}</span>\r\n                  </div>\r\n                  <div class=\"info-item\" v-if=\"currentRoleCard && currentRoleCard.birthday\">\r\n                    <span class=\"info-label\">ç”Ÿæ—¥</span>\r\n                    <span class=\"info-value\">{{ formatBirthday(currentRoleCard.birthday) }}</span>\r\n                  </div>\r\n                  <div class=\"info-item\" v-if=\"currentRoleCard && currentRoleCard.height\">\r\n                    <span class=\"info-label\">èº«é«˜</span>\r\n                    <span class=\"info-value\">{{ currentRoleCard.height }}cm</span>\r\n                  </div>\r\n                  <div class=\"info-item\" v-if=\"currentRoleCard && currentRoleCard.bloodType\">\r\n                    <span class=\"info-label\">è¡€å‹</span>\r\n                    <span class=\"info-value\">{{ currentRoleCard.bloodType }}</span>\r\n                  </div>\r\n                  <div class=\"info-item\" v-if=\"currentRoleCard && currentRoleCard.hobby\">\r\n                    <span class=\"info-label\">çˆ±å¥½</span>\r\n                    <span class=\"info-value\">{{ currentRoleCard.hobby }}</span>\r\n                  </div>\r\n                </div>\r\n                <!-- æ ‡ç­¾ -->\r\n                <div v-if=\"activeRoleTab === 'tags'\" class=\"role-tags-content\">\r\n                  <div v-if=\"currentRoleCard && currentRoleCard.personalityTags && currentRoleCard.personalityTags.length > 0\" class=\"tags-group\">\r\n                    <h4>æ€§æ ¼æ ‡ç­¾</h4>\r\n                    <div class=\"tags-list\">\r\n                      <span \r\n                        v-for=\"tag in currentRoleCard.personalityTags\" \r\n                        :key=\"tag\"\r\n                        class=\"role-tag personality\"\r\n                      >\r\n                        {{ tag }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div v-if=\"currentRoleCard && currentRoleCard.raceTags && currentRoleCard.raceTags.length > 0\" class=\"tags-group\">\r\n                    <h4>ç§æ—æ ‡ç­¾</h4>\r\n                    <div class=\"tags-list\">\r\n                      <span \r\n                        v-for=\"tag in currentRoleCard.raceTags\" \r\n                        :key=\"tag\"\r\n                        class=\"role-tag race\"\r\n                      >\r\n                        {{ tag }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div v-if=\"currentRoleCard && currentRoleCard.appearanceTags && currentRoleCard.appearanceTags.length > 0\" class=\"tags-group\">\r\n                    <h4>å¤–è§‚æ ‡ç­¾</h4>\r\n                    <div class=\"tags-list\">\r\n                      <span \r\n                        v-for=\"tag in currentRoleCard.appearanceTags\" \r\n                        :key=\"tag\"\r\n                        class=\"role-tag appearance\"\r\n                      >\r\n                        {{ tag }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- èƒŒæ™¯æ•…äº‹ -->\r\n                <div v-if=\"activeRoleTab === 'story'\" class=\"role-story-content\">\r\n                  <p v-if=\"currentRoleCard && currentRoleCard.backgroundStory\" class=\"story-text\">\r\n                    {{ currentRoleCard.backgroundStory }}\r\n                  </p>\r\n                  <p v-else class=\"empty-text\">æš‚æ— èƒŒæ™¯æ•…äº‹</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section class=\"content-area\" ref=\"tabSection\" :class=\"{ 'role-info-expanded': showRoleInfo }\">\r\n        <div class=\"tabs-wrapper\">\r\n          <ul class=\"tabs\">\r\n            <li\r\n              v-for=\"tab in tabs\"\r\n              :key=\"tab.key\"\r\n              :class=\"{ active: tab.key === activeTab }\"\r\n              @click=\"activeTab = tab.key\"\r\n            >\r\n              {{ tab.label }}\r\n              <span v-if=\"tab.key === 'works' && worksCount > 0\">{{ worksCount }}</span>\r\n              <span v-else-if=\"tab.badge\">{{ tab.badge }}</span>\r\n            </li>\r\n          </ul>\r\n          <div\r\n            v-if=\"(activeTab === 'works' || activeTab === 'likes') && !isBatchMode\"\r\n            class=\"batch-manage-btn-wrapper\"\r\n          >\r\n            <button class=\"batch-manage-btn\" @click=\"enterBatchMode\">\r\n              æ‰¹é‡ç®¡ç†\r\n            </button>\r\n          </div>\r\n          <div\r\n            v-if=\"(activeTab === 'works' || activeTab === 'likes') && isBatchMode\"\r\n            class=\"batch-manage-btn-wrapper\"\r\n          >\r\n            <button class=\"batch-manage-btn\" @click=\"exitBatchMode\">\r\n              é€€å‡ºç®¡ç†\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <header class=\"content-header\">\r\n          <div class=\"work-type-buttons\" v-if=\"activeTab === 'works'\">\r\n            <button\r\n              :class=\"{ active: workType === 'all' }\"\r\n              @click=\"workType = 'all'\"\r\n            >\r\n              ä½œå“\r\n            </button>\r\n            <button\r\n              :class=\"{ active: workType === 'private' }\"\r\n              @click=\"workType = 'private'\"\r\n            >\r\n              ç§å¯†ä½œå“\r\n            </button>\r\n          </div>\r\n          <div\r\n            v-if=\"activeTab === 'works'\"\r\n            class=\"filters\"\r\n          >\r\n            <input\r\n              v-model=\"workSearchQuery\"\r\n              type=\"text\"\r\n              placeholder=\"æœç´¢ä½ å‘å¸ƒçš„ä½œå“\"\r\n              class=\"search-input\"\r\n              @keyup.enter=\"handleWorkSearch\"\r\n            >\r\n            <div class=\"date-filter-wrapper\">\r\n              <button \r\n                class=\"date-filter-btn\"\r\n                :class=\"{ active: dateFilterActive }\"\r\n                @click=\"toggleDateFilter\"\r\n              >\r\n               æ—¥æœŸç­›é€‰\r\n                <span v-if=\"dateFilterActive\" class=\"filter-badge\"></span>\r\n              </button>\r\n              <div \r\n                v-if=\"showDateFilter\"\r\n                class=\"date-filter-panel\"\r\n                @click.stop\r\n              >\r\n                <div class=\"date-filter-header\">\r\n                  <span>é€‰æ‹©æ—¥æœŸèŒƒå›´</span>\r\n                  <button class=\"close-date-filter\" @click=\"closeDateFilter\">âœ•</button>\r\n                </div>\r\n                <div class=\"date-inputs\">\r\n                  <div class=\"date-input-group\">\r\n                    <label>å¼€å§‹æ—¥æœŸ</label>\r\n                    <input\r\n                      v-model=\"dateFilterStart\"\r\n                      type=\"date\"\r\n                      class=\"date-input\"\r\n                      @change=\"applyDateFilter\"\r\n                    >\r\n                  </div>\r\n                  <div class=\"date-input-group\">\r\n                    <label>ç»“æŸæ—¥æœŸ</label>\r\n                    <input\r\n                      v-model=\"dateFilterEnd\"\r\n                      type=\"date\"\r\n                      class=\"date-input\"\r\n                      @change=\"applyDateFilter\"\r\n                    >\r\n                  </div>\r\n                </div>\r\n                <div class=\"date-filter-actions\">\r\n                  <button class=\"clear-date-btn\" @click=\"clearDateFilter\">æ¸…é™¤</button>\r\n                  <button class=\"apply-date-btn\" @click=\"applyDateFilter\">åº”ç”¨</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <!-- æ‰¹é‡ç®¡ç†å·¥å…·æ  -->\r\n        <div\r\n          v-if=\"isBatchMode && (activeTab === 'works' || activeTab === 'likes')\"\r\n          class=\"batch-toolbar\"\r\n        >\r\n          <div class=\"batch-toolbar-left\">\r\n            <label class=\"select-all-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                :checked=\"isAllSelected\"\r\n                @change=\"toggleSelectAll\"\r\n              >\r\n              <span>å…¨é€‰</span>\r\n            </label>\r\n            <span class=\"selected-count\">\r\n              å·²é€‰ <strong>{{ selectedItems.length }}</strong> ä¸ªä½œå“\r\n            </span>\r\n          </div>\r\n          <div class=\"batch-toolbar-divider\"></div>\r\n          <div class=\"batch-toolbar-right\">\r\n            <button class=\"batch-action-btn delete-btn\" @click=\"handleBatchDelete\">\r\n              <span>åˆ é™¤</span>\r\n            </button>\r\n            <button class=\"batch-action-btn permission-btn\" @click=\"handleBatchPermission\">\r\n              <span>æƒé™è®¾ç½®</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          v-if=\"activeTab === 'works' && myWorks.length\"\r\n          class=\"video-grid\"\r\n        >\r\n          <article\r\n            v-for=\"video in myWorks\"\r\n            :key=\"video.id\"\r\n            class=\"video-card\"\r\n            :class=\"{ 'batch-mode': isBatchMode }\"\r\n            @click=\"handleVideoClick(video)\"\r\n          >\r\n            <div class=\"thumbnail\" :style=\"getThumbnailStyle(video)\">\r\n              <span class=\"duration\">{{ video.duration }}</span>\r\n              <label\r\n                v-if=\"isBatchMode\"\r\n                class=\"video-checkbox\"\r\n                @click.stop\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  :checked=\"selectedItems.includes(video.id)\"\r\n                  @change=\"toggleSelectItem(video.id)\"\r\n                >\r\n              </label>\r\n            </div>\r\n            <div class=\"video-meta\">\r\n              <h3>{{ video.title }}</h3>\r\n              <p class=\"creator\">@{{ video.creator }}</p>\r\n              <p class=\"stats\">\r\n                {{ video.views }} Â· {{ video.tags.join(' Â· ') }}\r\n              </p>\r\n            </div>\r\n          </article>\r\n        </div>\r\n\r\n        <div v-else class=\"empty-state\">\r\n        </div>\r\n      </section>\r\n    </main>\r\n\r\n    <div v-if=\"showEditModal\" class=\"modal-overlay\" @click.self=\"closeEditModal\">\r\n      <div class=\"modal-card\">\r\n        <h3>ç¼–è¾‘ä¸ªäººä¿¡æ¯</h3>\r\n        <label>\r\n          æ˜µç§°\r\n          <input v-model=\"editForm.name\" type=\"text\" placeholder=\"è¾“å…¥æ–°çš„æ˜µç§°\">\r\n        </label>\r\n        <label>\r\n          ç®€ä»‹\r\n          <textarea v-model=\"editForm.signature\" rows=\"3\" placeholder=\"ä»‹ç»ä¸€ä¸‹è‡ªå·±\"></textarea>\r\n        </label>\r\n        <label>\r\n          æ–°å¯†ç \r\n          <input v-model=\"editForm.password\" type=\"password\" placeholder=\"è¾“å…¥æ–°å¯†ç ï¼ˆç•™ç©ºåˆ™ä¸ä¿®æ”¹ï¼‰\">\r\n        </label>\r\n        <label>\r\n          ç¡®è®¤å¯†ç \r\n          <input v-model=\"editForm.confirmPassword\" type=\"password\" placeholder=\"å†æ¬¡è¾“å…¥æ–°å¯†ç \">\r\n        </label>\r\n        <div class=\"modal-actions\">\r\n          <button class=\"ghost\" @click=\"closeEditModal\">å–æ¶ˆ</button>\r\n          <button class=\"primary\" @click=\"saveProfile\">ä¿å­˜</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- å…³æ³¨/ç²‰ä¸å¼¹çª— -->\r\n    <div v-if=\"showFollowModal\" class=\"follow-modal-overlay\" @click.self=\"closeFollowModal\">\r\n      <div class=\"follow-modal\">\r\n        <div class=\"follow-modal-header\">\r\n          <div class=\"follow-tabs\">\r\n            <button\r\n              :class=\"['follow-tab', { active: followModalTab === 'following' }]\"\r\n              @click=\"followModalTab = 'following'\"\r\n            >\r\n              å…³æ³¨ ({{ followingList.length }})\r\n            </button>\r\n            <button\r\n              :class=\"['follow-tab', { active: followModalTab === 'followers' }]\"\r\n              @click=\"followModalTab = 'followers'\"\r\n            >\r\n              ç²‰ä¸ ({{ followersList.length }})\r\n            </button>\r\n          </div>\r\n          <button class=\"close-btn\" @click=\"closeFollowModal\">âœ•</button>\r\n        </div>\r\n\r\n        <div class=\"follow-modal-search\">\r\n          <div class=\"search-box\">\r\n            <span class=\"search-icon\">ğŸ”</span>\r\n            <input\r\n              v-model=\"followSearchQuery\"\r\n              type=\"text\"\r\n              placeholder=\"æœç´¢ç”¨æˆ·å\"\r\n            >\r\n          </div>\r\n          <div\r\n            class=\"sort-dropdown\"\r\n            @mouseenter=\"handleSortDropdownEnter\"\r\n            @mouseleave=\"handleSortDropdownLeave\"\r\n          >\r\n            <span>{{ selectedSort }}</span>\r\n            <span class=\"sort-arrow\">â–¼</span>\r\n            <div\r\n              v-if=\"showSortDropdown\"\r\n              class=\"sort-dropdown-menu\"\r\n              @mouseenter=\"handleSortDropdownEnter\"\r\n              @mouseleave=\"handleSortDropdownLeave\"\r\n            >\r\n              <div\r\n                v-for=\"option in sortOptions\"\r\n                :key=\"option\"\r\n                :class=\"['sort-option', { active: selectedSort === option }]\"\r\n                @click=\"selectSort(option)\"\r\n              >\r\n                {{ option }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"follow-modal-content\">\r\n          <div\r\n            v-for=\"user in displayedFollowList\"\r\n            :key=\"user.id\"\r\n            class=\"follow-user-item\"\r\n          >\r\n            <div class=\"user-avatar\">\r\n              <img :src=\"user.avatar\" :alt=\"user.name\">\r\n            </div>\r\n            <div class=\"user-info\">\r\n              <div class=\"user-name-row\">\r\n                <span class=\"user-name\">{{ user.name }}</span>\r\n                <span v-if=\"user.verified\" class=\"verified-badge\">âœ“</span>\r\n              </div>\r\n              <div v-if=\"user.title\" class=\"user-title\">{{ user.title }}</div>\r\n              <div v-if=\"user.subtitle\" class=\"user-subtitle\">{{ user.subtitle }}</div>\r\n              <div v-if=\"user.description\" class=\"user-description\">{{ user.description }}</div>\r\n              <div v-if=\"user.unreadWorks\" class=\"user-unread\">1ä¸ªä½œå“æœªçœ‹</div>\r\n            </div>\r\n            <button\r\n              :class=\"['follow-status-btn', user.followStatus]\"\r\n              @click=\"toggleFollow(user)\"\r\n            >\r\n              {{ getFollowButtonText(user.followStatus) }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç”³è¯·è§’è‰²å¡å¼¹çª— -->\r\n    <div v-if=\"showRoleCardModal\" class=\"modal-overlay\" @click.self=\"closeRoleCardModal\">\r\n      <div class=\"role-card-modal\">\r\n        <div class=\"role-card-header\">\r\n          <h3>{{ currentRoleCard ? 'ç¼–è¾‘è§’è‰²å¡' : 'ç”³è¯·è§’è‰²å¡' }}</h3>\r\n          <button class=\"close-btn\" @click=\"closeRoleCardModal\">âœ•</button>\r\n        </div>\r\n        <div class=\"role-card-content\">\r\n          <div class=\"portrait-upload-wrapper\">\r\n            <label class=\"portrait-label\">è§’è‰²è‚–åƒ</label>\r\n            <div class=\"portrait-upload-area\">\r\n              <div \r\n                v-if=\"!roleCardForm.portrait\" \r\n                class=\"portrait-placeholder\"\r\n                @click.stop=\"triggerPortraitInput\"\r\n              >\r\n                <span class=\"upload-icon\">ğŸ“·</span>\r\n                <span class=\"upload-text\">ç‚¹å‡»ä¸Šä¼ è§’è‰²è‚–åƒ</span>\r\n              </div>\r\n              <div \r\n                v-else \r\n                class=\"portrait-preview\"\r\n                @click.stop=\"triggerPortraitInput\"\r\n              >\r\n                <img :src=\"roleCardForm.portrait\" alt=\"è§’è‰²è‚–åƒé¢„è§ˆ\">\r\n                <div class=\"portrait-overlay\">\r\n                  <span>ç‚¹å‡»æ›´æ¢</span>\r\n                </div>\r\n              </div>\r\n              <input\r\n                ref=\"portraitInput\"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                style=\"display: none\"\r\n                @change=\"handlePortraitSelect\"\r\n              >\r\n            </div>\r\n          </div>\r\n\r\n          <label>\r\n            è§’è‰²åç§°\r\n            <input \r\n              v-model=\"roleCardForm.name\" \r\n              type=\"text\" \r\n              placeholder=\"è¾“å…¥è§’è‰²åç§°\"\r\n              maxlength=\"20\"\r\n            >\r\n          </label>\r\n          \r\n          <label>\r\n            æ€§åˆ«\r\n            <select v-model=\"roleCardForm.gender\">\r\n              <option value=\"\">è¯·é€‰æ‹©</option>\r\n              <option value=\"male\">ç”·</option>\r\n              <option value=\"female\">å¥³</option>\r\n              <option value=\"other\">å…¶ä»–</option>\r\n            </select>\r\n          </label>\r\n\r\n          <label>\r\n            ç”Ÿæ—¥\r\n            <input \r\n              v-model=\"roleCardForm.birthday\" \r\n              type=\"date\"\r\n            >\r\n          </label>\r\n\r\n          <label>\r\n            èº«é«˜ (cm)\r\n            <input \r\n              v-model=\"roleCardForm.height\" \r\n              type=\"number\" \r\n              placeholder=\"è¾“å…¥èº«é«˜\"\r\n              min=\"0\"\r\n              max=\"300\"\r\n            >\r\n          </label>\r\n\r\n          <label>\r\n            çˆ±å¥½\r\n            <input \r\n              v-model=\"roleCardForm.hobby\" \r\n              type=\"text\" \r\n              placeholder=\"è¾“å…¥çˆ±å¥½\"\r\n              maxlength=\"50\"\r\n            >\r\n          </label>\r\n\r\n          <div class=\"tags-section\">\r\n            <label class=\"tags-label\">æ€§æ ¼æ ‡ç­¾</label>\r\n            <div class=\"tags-group\">\r\n              <label \r\n                v-for=\"tag in personalityTags\" \r\n                :key=\"tag\"\r\n                class=\"tag-checkbox\"\r\n                :class=\"{ 'tag-checked': roleCardForm.personalityTags.includes(tag) }\"\r\n              >\r\n                <input \r\n                  type=\"checkbox\" \r\n                  :value=\"tag\"\r\n                  v-model=\"roleCardForm.personalityTags\"\r\n                >\r\n                <span>{{ tag }}</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"tags-section\">\r\n            <label class=\"tags-label\">ç§æ—æ ‡ç­¾</label>\r\n            <div class=\"tags-group\">\r\n              <label \r\n                v-for=\"tag in raceTags\" \r\n                :key=\"tag\"\r\n                class=\"tag-checkbox\"\r\n                :class=\"{ 'tag-checked': roleCardForm.raceTags.includes(tag) }\"\r\n              >\r\n                <input \r\n                  type=\"checkbox\" \r\n                  :value=\"tag\"\r\n                  v-model=\"roleCardForm.raceTags\"\r\n                >\r\n                <span>{{ tag }}</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"tags-section\">\r\n            <label class=\"tags-label\">å¤–è§‚æ ‡ç­¾</label>\r\n            <div class=\"tags-group\">\r\n              <label \r\n                v-for=\"tag in appearanceTags\" \r\n                :key=\"tag\"\r\n                class=\"tag-checkbox\"\r\n                :class=\"{ 'tag-checked': roleCardForm.appearanceTags.includes(tag) }\"\r\n              >\r\n                <input \r\n                  type=\"checkbox\" \r\n                  :value=\"tag\"\r\n                  v-model=\"roleCardForm.appearanceTags\"\r\n                >\r\n                <span>{{ tag }}</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <label>\r\n            èƒŒæ™¯æ•…äº‹\r\n            <textarea \r\n              v-model=\"roleCardForm.backgroundStory\" \r\n              rows=\"5\" \r\n              placeholder=\"è¾“å…¥è§’è‰²çš„èƒŒæ™¯æ•…äº‹\"\r\n              maxlength=\"500\"\r\n            ></textarea>\r\n            <span class=\"char-count\">{{ roleCardForm.backgroundStory.length }}/500</span>\r\n          </label>\r\n        </div>\r\n        <div class=\"role-card-actions\">\r\n          <button class=\"ghost\" @click=\"closeRoleCardModal\">å–æ¶ˆ</button>\r\n          <button class=\"primary\" @click=\"submitRoleCard\">{{ currentRoleCard ? 'ä¿å­˜ä¿®æ”¹' : 'æäº¤ç”³è¯·' }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { clearAuthToken, getCurrentUser } from '@/utils/auth'\r\nimport { updateMockUserPassword } from '@/data/mockUsers'\r\nexport default {\r\n  name: 'ProfileView',\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      navLinks: [\r\n        { key: 'discover', label: 'å‘ç°å†…å®¹', icon: 'âœ¨' },\r\n        { key: 'live', label: 'ç›´æ’­', icon: 'ğŸ“¡' },\r\n        { key: 'community', label: 'ç¤¾åŒº', icon: 'ğŸ’¬' },\r\n        { key: 'my', label: 'æˆ‘çš„', icon: '' }\r\n      ],\r\n      activeNav: 'my',\r\n      user: {\r\n        avatar: require('@/assets/avatar.jpg'),\r\n        name: 'zk3zy',\r\n        isLive: true,\r\n        following: 250,\r\n        followers: 86,\r\n        likes: 4,\r\n        signature: 'yeeeee',\r\n        sn: '43114125',\r\n        age: 20\r\n      },\r\n      panel: {\r\n        avatar: require('@/assets/avatar.jpg'),\r\n        name: 'zk3zy',\r\n        followings: 250,\r\n        followers: 86,\r\n        likes: '3.0ä¸‡',\r\n        favorites: [\r\n          { id: 1, tag: '#Live', title: 'æ²»æ„ˆç«¥å£° #è§é¢ä¼š', gradient: 'linear-gradient(125deg, #fdfcfb 0%, #e2d1c3 100%)' },\r\n          { id: 2, tag: '#æ ¡å›­', title: 'å¤§å­¦ç”ŸæƒŠå–œä¸€å¤©', gradient: 'linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)' },\r\n          { id: 3, tag: '#MV', title: 'GALI æ–°æ­Œä¸Šçº¿', gradient: 'linear-gradient(135deg, #f6d365 0%, #fda085 100%)' }\r\n        ],\r\n        quickEntries: [\r\n          { key: 'history', icon: 'ğŸ•’', label: 'è§‚çœ‹å†å²', value: '30å¤©å†…' },\r\n          { key: 'works', icon: 'ğŸ¬', label: 'æˆ‘çš„ä½œå“', value: '0' }\r\n        ],\r\n        rememberLogin: true\r\n      },\r\n      tabs: [\r\n        { key: 'works', label: 'ä½œå“', badge: null },\r\n        { key: 'likes', label: 'å–œæ¬¢' },\r\n        { key: 'history', label: 'è§‚çœ‹å†å²' },\r\n      ],\r\n      activeTab: 'works',\r\n      workType: 'all', // 'all' æˆ– 'private'\r\n      workSearchQuery: '', // ä½œå“æœç´¢å…³é”®è¯\r\n      showDateFilter: false, // æ˜¯å¦æ˜¾ç¤ºæ—¥æœŸç­›é€‰é¢æ¿\r\n      dateFilterStart: '', // å¼€å§‹æ—¥æœŸ\r\n      dateFilterEnd: '', // ç»“æŸæ—¥æœŸ\r\n      showEditModal: false,\r\n      editForm: {\r\n        name: '',\r\n        signature: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n      },\r\n      showFollowModal: false,\r\n      followModalTab: 'following',\r\n      followSearchQuery: '',\r\n      showSortDropdown: false,\r\n      selectedSort: 'ç»¼åˆæ’åº',\r\n      sortOptions: ['ç»¼åˆæ’åº', 'æœ€è¿‘å…³æ³¨', 'æœ€æ—©å…³æ³¨'],\r\n      sortDropdownTimer: null,\r\n      isBatchMode: false,\r\n      selectedItems: [],\r\n      showRoleCardModal: false,\r\n      roleCardForm: {\r\n        portrait: '',\r\n        name: '',\r\n        gender: '',\r\n        birthday: '',\r\n        height: '',\r\n        hobby: '',\r\n        personalityTags: [],\r\n        raceTags: [],\r\n        appearanceTags: [],\r\n        backgroundStory: ''\r\n      },\r\n      personalityTags: ['å…ƒæ°”', 'å†·æ„Ÿ', 'æ¸©æŸ”', 'å‚²å¨‡', 'ç¤¾æ', 'ç–¯æ‰¹'],\r\n      raceTags: ['æ™®é€šäºº', 'ç²¾çµ', 'é­”æ—', 'AI', 'å…½è€³å°‘å¥³'],\r\n      appearanceTags: ['é•¿å‘', 'åŒé©¬å°¾', 'å¼‚è‰²ç³', 'å…½è€³'],\r\n      showRoleInfo: false,\r\n      activeRoleTab: 'basic',\r\n      roleTabs: [\r\n        { key: 'basic', label: 'åŸºæœ¬ä¿¡æ¯' },\r\n        { key: 'tags', label: 'æ ‡ç­¾' },\r\n        { key: 'story', label: 'èƒŒæ™¯æ•…äº‹' }\r\n      ],\r\n      followingList: [\r\n        {\r\n          id: 1,\r\n          name: 'æ˜Ÿæµ·Nova',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Nova',\r\n          title: 'è™šæ‹Ÿå¶åƒ',\r\n          description: 'å‰11ä¸‡å®å­è¹²å¥½åŠ©ç†å¤‡æ³¨æµç¨‹æœ«å°¾ä¸­â€¦â€¦(æ‹’ç»å–â€¦â€¦)',\r\n          followStatus: 'followed',\r\n          verified: false,\r\n          followTime: new Date('2024-01-15').getTime()\r\n        },\r\n        {\r\n          id: 2,\r\n          name: 'DANK1NG',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=DANK1NG',\r\n          title: 'ç”µå­ç«æŠ€èŒä¸šé€‰æ‰‹',\r\n          subtitle: 'TYLOO DANKING',\r\n          followStatus: 'followed',\r\n          verified: true,\r\n          followTime: new Date('2024-03-20').getTime()\r\n        },\r\n        {\r\n          id: 3,\r\n          name: 'NiKo',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=NiKo',\r\n          title: 'ç”µç«é€‰æ‰‹',\r\n          subtitle: 'Falcons EsportsèŒä¸šé€‰æ‰‹',\r\n          followStatus: 'followed',\r\n          verified: true,\r\n          followTime: new Date('2024-02-10').getTime()\r\n        },\r\n        {\r\n          id: 4,\r\n          name: 'reailty',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=reailty',\r\n          followStatus: 'mutual',\r\n          verified: false,\r\n          followTime: new Date('2023-12-05').getTime()\r\n        },\r\n        {\r\n          id: 5,\r\n          name: 'æ£®é˜³(æ— ç•å¥‘çº¦)',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=æ£®é˜³',\r\n          description: 'è§†é¢‘çš†ä¸ºèŠ‚ç›®æ•ˆæœ',\r\n          followStatus: 'followed',\r\n          unreadWorks: 1,\r\n          verified: false,\r\n          followTime: new Date('2024-04-01').getTime()\r\n        },\r\n        {\r\n          id: 6,\r\n          name: 'LumiRay',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=LumiRay',\r\n          title: 'è™šæ‹Ÿå¶åƒ',\r\n          description: 'å…¨æ¯èˆå°è¡¨æ¼”è€…ï¼Œæ¯æ™š8ç‚¹ç›´æ’­',\r\n          followStatus: 'followed',\r\n          verified: true,\r\n          followTime: new Date('2024-01-28').getTime()\r\n        },\r\n        {\r\n          id: 7,\r\n          name: 'KiraEcho',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=KiraEcho',\r\n          title: 'AIè™šæ‹Ÿä¸»æ’­',\r\n          description: '24/7é™ªä¼´å¼ç›´æ’­ï¼Œæ™ºèƒ½äº’åŠ¨',\r\n          followStatus: 'followed',\r\n          verified: false,\r\n          followTime: new Date('2024-03-15').getTime()\r\n        },\r\n        {\r\n          id: 8,\r\n          name: 'NebulaNova',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=NebulaNova',\r\n          title: 'è™šæ‹Ÿæ­Œæ‰‹',\r\n          subtitle: 'åŸåˆ›éŸ³ä¹åˆ¶ä½œäºº',\r\n          followStatus: 'mutual',\r\n          verified: true,\r\n          followTime: new Date('2023-11-20').getTime()\r\n        }\r\n      ],\r\n      followersList: [\r\n        {\r\n          id: 101,\r\n          name: 'è™šæ‹Ÿä¸–ç•Œæ¢ç´¢è€…',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=explorer',\r\n          description: 'çƒ­çˆ±è™šæ‹Ÿç›´æ’­çš„æ™®é€šç”¨æˆ·',\r\n          followStatus: 'not-followed',\r\n          verified: false\r\n        },\r\n        {\r\n          id: 102,\r\n          name: 'TechGamer',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=TechGamer',\r\n          title: 'ç§‘æŠ€åšä¸»',\r\n          followStatus: 'not-followed',\r\n          verified: false\r\n        },\r\n        {\r\n          id: 103,\r\n          name: 'VtuberFan',\r\n          avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=VtuberFan',\r\n          description: 'è™šæ‹Ÿä¸»æ’­çˆ±å¥½è€…',\r\n          followStatus: 'mutual',\r\n          verified: false\r\n        }\r\n      ],\r\n      shortVideos: [\r\n        {\r\n          id: 1,\r\n          title: 'æ˜Ÿæµ·èˆªçº¿ç›´æ’­å¹•åèŠ±çµ®',\r\n          creator: 'NebulaNova',\r\n          duration: '02:18',\r\n          views: '5.8ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['LiveCut', 'Sci-Fi'],\r\n          thumbnailColor: 'linear-gradient(135deg, #FF61D2 0%, #FE9090 100%)'\r\n        },\r\n        {\r\n          id: 2,\r\n          title: 'è™šæ‹Ÿå¶åƒèˆå° Â· å¤œå¹•ç‰ˆæœ¬',\r\n          creator: 'LumiRay',\r\n          duration: '01:05',\r\n          views: '3.1ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Dance', 'Stage'],\r\n          thumbnailColor: 'linear-gradient(135deg, #42E695 0%, #3BB2B8 100%)'\r\n        },\r\n        {\r\n          id: 3,\r\n          title: 'ç²‰ä¸äº’åŠ¨é—®ç­”é«˜èƒ½åˆé›†',\r\n          creator: 'KiraEcho',\r\n          duration: '03:44',\r\n          views: '2.4ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Clips', 'Q&A'],\r\n          thumbnailColor: 'linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)'\r\n        },\r\n        {\r\n          id: 4,\r\n          title: 'å…¨æ¯è§’è‰²å»ºæ¨¡ timelapse',\r\n          creator: 'MoriTech',\r\n          duration: '02:57',\r\n          views: '1.9ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['MakingOf', '3D'],\r\n          thumbnailColor: 'linear-gradient(135deg, #F6D365 0%, #FDA085 100%)'\r\n        },\r\n        {\r\n          id: 5,\r\n          title: 'èµ›åšæœ‹å…‹ä¸»é¢˜ç«–å± MV',\r\n          creator: 'Vexa',\r\n          duration: '01:42',\r\n          views: '4.6ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Music', 'Cyber'],\r\n          thumbnailColor: 'linear-gradient(135deg, #5EFCE8 0%, #736EFE 100%)'\r\n        },\r\n        {\r\n          id: 6,\r\n          title: 'ç›´æ’­äº‹æ•…å‰ªè¾‘ï¼šè¶£å‘³åˆé›†',\r\n          creator: 'Patchy',\r\n          duration: '02:10',\r\n          views: '6.2ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Fun', 'Live'],\r\n          thumbnailColor: 'linear-gradient(135deg, #FAD961 0%, #F76B1C 100%)'\r\n        },\r\n        {\r\n          id: 7,\r\n          title: 'AI è™šæ‹Ÿå½¢è±¡è°ƒæ•™æ—¥å¸¸',\r\n          creator: 'SigmaBot',\r\n          duration: '01:33',\r\n          views: '3.7ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['AI', 'BehindScenes'],\r\n          thumbnailColor: 'linear-gradient(135deg, #FF9966 0%, #FF5E62 100%)'\r\n        },\r\n        {\r\n          id: 8,\r\n          title: 'èµ›åšåŸå¸‚è§‚å…‰ Vlog',\r\n          creator: 'MetroMuse',\r\n          duration: '02:05',\r\n          views: '2.9ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Vlog', 'City'],\r\n          thumbnailColor: 'linear-gradient(135deg, #8EC5FC 0%, #E0C3FC 100%)'\r\n        },\r\n        {\r\n          id: 9,\r\n          title: 'è™šæ‹Ÿç¾é£ŸèŠ‚ç›® Â· å®‡å®™é¤æ¡Œ',\r\n          creator: 'ChefNova',\r\n          duration: '03:12',\r\n          views: '4.2ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Food', 'Show'],\r\n          thumbnailColor: 'linear-gradient(135deg, #FBD786 0%, #f7797d 100%)'\r\n        },\r\n        {\r\n          id: 10,\r\n          title: 'ç”µç«è§£è¯´é«˜ç‡ƒç¬é—´',\r\n          creator: 'CasterRay',\r\n          duration: '01:58',\r\n          views: '7.6ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Esports', 'Highlights'],\r\n          thumbnailColor: 'linear-gradient(135deg, #43C6AC 0%, #F8FFAE 100%)'\r\n        },\r\n        {\r\n          id: 11,\r\n          title: 'æ·±å¤œç”µå° Â· é™ªä¼´ç³»åˆ—',\r\n          creator: 'EchoWave',\r\n          duration: '04:05',\r\n          views: '3.3ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Podcast', 'Chill'],\r\n          thumbnailColor: 'linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)'\r\n        },\r\n        {\r\n          id: 12,\r\n          title: 'å…¨æ¯èˆç‹®æ˜¥èŠ‚ç‰¹è¾‘',\r\n          creator: 'Dynasty Duo',\r\n          duration: '02:26',\r\n          views: '5.1ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Festival', 'Dance'],\r\n          thumbnailColor: 'linear-gradient(135deg, #f5515f 0%, #9f041b 100%)'\r\n        },\r\n        {\r\n          id: 13,\r\n          title: 'éŸ³ä¹åˆ¶ä½œç›´æ’­ï¼šå³æ—¶ Remix',\r\n          creator: 'BeatForge',\r\n          duration: '02:48',\r\n          views: '4.9ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Music', 'Remix'],\r\n          thumbnailColor: 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)'\r\n        },\r\n        {\r\n          id: 14,\r\n          title: 'è™šæ‹Ÿé‡å¤–æ±‚ç”ŸæŒ‘æˆ˜',\r\n          creator: 'WildBytes',\r\n          duration: '03:20',\r\n          views: '2.2ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Adventure', 'Challenge'],\r\n          thumbnailColor: 'linear-gradient(135deg, #134E5E 0%, #71B280 100%)'\r\n        },\r\n        {\r\n          id: 15,\r\n          title: 'ç²‰ä¸å…±åˆ›å‰§æƒ…äº’åŠ¨å‰§',\r\n          creator: 'StorySync',\r\n          duration: '03:08',\r\n          views: '6.8ä¸‡æ¬¡è§‚çœ‹',\r\n          tags: ['Interactive', 'Story'],\r\n          thumbnailColor: 'linear-gradient(135deg, #F4C4F3 0%, #FC67FA 100%)'\r\n        }\r\n      ],\r\n      likedVideoIds: [1, 5, 7, 10, 13, 15],\r\n      userWorks: []\r\n    }\r\n  },\r\n  created() {\r\n    this.loadStoredProfile()\r\n    this.loadUserWorks()\r\n  },\r\n  computed: {\r\n    likedVideos() {\r\n      return this.shortVideos.filter(video =>\r\n        this.likedVideoIds.includes(video.id)\r\n      )\r\n    },\r\n    myWorks() {\r\n      let works = this.userWorks || []\r\n      \r\n      // æ ¹æ® workType è¿‡æ»¤\r\n      if (this.workType === 'private') {\r\n        // ç§å¯†ä½œå“æ¨¡å¼ä¸‹ï¼Œåªæ˜¾ç¤ºç§å¯†ä½œå“\r\n        works = works.filter(work => work.isPrivate === true)\r\n      }\r\n      // workType === 'all' æ—¶æ˜¾ç¤ºæ‰€æœ‰ä½œå“ï¼Œä¸éœ€è¦é¢å¤–è¿‡æ»¤\r\n      \r\n      // æ ¹æ®æœç´¢å…³é”®è¯è¿‡æ»¤\r\n      if (this.workSearchQuery.trim()) {\r\n        const query = this.workSearchQuery.trim().toLowerCase()\r\n        works = works.filter(work => {\r\n          // æœç´¢æ ‡é¢˜ã€åˆ›ä½œè€…ã€æ ‡ç­¾\r\n          const titleMatch = work.title?.toLowerCase().includes(query)\r\n          const creatorMatch = work.creator?.toLowerCase().includes(query)\r\n          const tagsMatch = work.tags?.some(tag => tag.toLowerCase().includes(query))\r\n          return titleMatch || creatorMatch || tagsMatch\r\n        })\r\n      }\r\n      \r\n      // æ ¹æ®æ—¥æœŸèŒƒå›´è¿‡æ»¤\r\n      if (this.dateFilterStart || this.dateFilterEnd) {\r\n        works = works.filter(work => {\r\n          if (!work.uploadTime) return false\r\n          \r\n          const uploadDate = new Date(work.uploadTime)\r\n          const uploadDateStr = uploadDate.toISOString().split('T')[0] // YYYY-MM-DDæ ¼å¼\r\n          \r\n          // å¦‚æœåªæœ‰å¼€å§‹æ—¥æœŸï¼Œç­›é€‰å¤§äºç­‰äºå¼€å§‹æ—¥æœŸçš„ä½œå“\r\n          if (this.dateFilterStart && !this.dateFilterEnd) {\r\n            return uploadDateStr >= this.dateFilterStart\r\n          }\r\n          \r\n          // å¦‚æœåªæœ‰ç»“æŸæ—¥æœŸï¼Œç­›é€‰å°äºç­‰äºç»“æŸæ—¥æœŸçš„ä½œå“\r\n          if (!this.dateFilterStart && this.dateFilterEnd) {\r\n            return uploadDateStr <= this.dateFilterEnd\r\n          }\r\n          \r\n          // å¦‚æœä¸¤ä¸ªæ—¥æœŸéƒ½æœ‰ï¼Œç­›é€‰åœ¨èŒƒå›´å†…çš„ä½œå“\r\n          if (this.dateFilterStart && this.dateFilterEnd) {\r\n            return uploadDateStr >= this.dateFilterStart && uploadDateStr <= this.dateFilterEnd\r\n          }\r\n          \r\n          return true\r\n        })\r\n      }\r\n      \r\n      return works\r\n    },\r\n    worksCount() {\r\n      return this.userWorks.length\r\n    },\r\n    dateFilterActive() {\r\n      return !!(this.dateFilterStart || this.dateFilterEnd)\r\n    },\r\n    isAllSelected() {\r\n      const currentVideos = this.activeTab === 'works' ? this.myWorks : this.likedVideos\r\n      return currentVideos.length > 0 && this.selectedItems.length === currentVideos.length\r\n    },\r\n    displayedFollowList() {\r\n      let list = this.followModalTab === 'following' ? this.followingList : this.followersList\r\n      \r\n      // æœç´¢è¿‡æ»¤\r\n      if (this.followSearchQuery.trim()) {\r\n        const query = this.followSearchQuery.toLowerCase()\r\n        list = list.filter(user => {\r\n          return user.name.toLowerCase().includes(query) ||\r\n                 (user.description && user.description.toLowerCase().includes(query)) ||\r\n                 (user.title && user.title.toLowerCase().includes(query))\r\n        })\r\n      }\r\n      \r\n      // æ’åºï¼ˆä»…å¯¹å…³æ³¨åˆ—è¡¨è¿›è¡Œæ’åºï¼Œç²‰ä¸åˆ—è¡¨ä¸æ’åºï¼‰\r\n      if (this.followModalTab === 'following' && this.selectedSort !== 'ç»¼åˆæ’åº') {\r\n        const sortedList = [...list]\r\n        if (this.selectedSort === 'æœ€è¿‘å…³æ³¨') {\r\n          sortedList.sort((a, b) => {\r\n            const timeA = a.followTime || 0\r\n            const timeB = b.followTime || 0\r\n            return timeB - timeA // é™åºï¼Œæœ€æ–°çš„åœ¨å‰\r\n          })\r\n        } else if (this.selectedSort === 'æœ€æ—©å…³æ³¨') {\r\n          sortedList.sort((a, b) => {\r\n            const timeA = a.followTime || 0\r\n            const timeB = b.followTime || 0\r\n            return timeA - timeB // å‡åºï¼Œæœ€æ—©çš„åœ¨å‰\r\n          })\r\n        }\r\n        return sortedList\r\n      }\r\n      \r\n      return list\r\n    },\r\n    currentRoleCard() {\r\n      // ä»localStorageè·å–è§’è‰²å¡ï¼Œç›´æ¥æ˜¾ç¤ºæœ€æ–°çš„\r\n      try {\r\n        const roleCards = JSON.parse(localStorage.getItem('roleCards') || '[]')\r\n        if (roleCards.length > 0) {\r\n          // æŒ‰æäº¤æ—¶é—´æ’åºï¼Œå–æœ€æ–°çš„\r\n          const sortedCards = [...roleCards].sort((a, b) => {\r\n            const timeA = new Date(a.submitTime || 0).getTime()\r\n            const timeB = new Date(b.submitTime || 0).getTime()\r\n            return timeB - timeA\r\n          })\r\n          return sortedCards[0]\r\n        }\r\n      } catch (err) {\r\n        console.warn('åŠ è½½è§’è‰²å¡å¤±è´¥', err)\r\n      }\r\n      return null\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.query.tab': {\r\n      immediate: true,\r\n      handler(newTab) {\r\n        this.syncTabFromRoute(newTab)\r\n      }\r\n    },\r\n    '$route.path'() {\r\n      // å½“è·¯ç”±å˜åŒ–æ—¶ï¼Œé‡æ–°åŠ è½½ä½œå“ï¼ˆä»ä¸Šä¼ é¡µé¢è¿”å›æ—¶ï¼‰\r\n      this.loadUserWorks()\r\n    },\r\n    activeTab() {\r\n      // åˆ‡æ¢æ ‡ç­¾é¡µæ—¶é€€å‡ºæ‰¹é‡ç®¡ç†æ¨¡å¼\r\n      if (this.isBatchMode) {\r\n        this.exitBatchMode()\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.consumePendingProfileTab()\r\n    // ç›‘å¬storageäº‹ä»¶ï¼Œå½“å…¶ä»–é¡µé¢ä¿å­˜ä½œå“æ—¶è‡ªåŠ¨æ›´æ–°\r\n    window.addEventListener('storage', this.handleStorageChange)\r\n    // ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼Œå½“ä¸Šä¼ é¡µé¢ä¿å­˜ä½œå“æ—¶è‡ªåŠ¨æ›´æ–°\r\n    window.addEventListener('userWorksUpdated', this.loadUserWorks)\r\n    // ç‚¹å‡»å¤–éƒ¨å…³é—­æ—¥æœŸç­›é€‰é¢æ¿\r\n    document.addEventListener('click', this.handleClickOutside)\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('storage', this.handleStorageChange)\r\n    window.removeEventListener('userWorksUpdated', this.loadUserWorks)\r\n    document.removeEventListener('click', this.handleClickOutside)\r\n    if (this.sortDropdownTimer) {\r\n      clearTimeout(this.sortDropdownTimer)\r\n      this.sortDropdownTimer = null\r\n    }\r\n  },\r\n  methods: {\r\n    handleWorkSearch(event) {\r\n      // æŒ‰å›è½¦é”®æ—¶è§¦å‘æœç´¢ï¼Œç”±äºä½¿ç”¨äº† computedï¼Œè¿‡æ»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ\r\n      // è¿™é‡Œå¯ä»¥è®©è¾“å…¥æ¡†å¤±ç„¦ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ\r\n      if (event?.target) {\r\n        event.target.blur()\r\n      }\r\n    },\r\n    toggleDateFilter() {\r\n      this.showDateFilter = !this.showDateFilter\r\n    },\r\n    closeDateFilter() {\r\n      this.showDateFilter = false\r\n    },\r\n    applyDateFilter() {\r\n      // éªŒè¯æ—¥æœŸèŒƒå›´\r\n      if (this.dateFilterStart && this.dateFilterEnd) {\r\n        if (this.dateFilterStart > this.dateFilterEnd) {\r\n          alert('å¼€å§‹æ—¥æœŸä¸èƒ½æ™šäºç»“æŸæ—¥æœŸ')\r\n          return\r\n        }\r\n      }\r\n      // ç”±äºä½¿ç”¨äº†computedï¼Œè¿‡æ»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ\r\n      this.closeDateFilter()\r\n    },\r\n    clearDateFilter() {\r\n      this.dateFilterStart = ''\r\n      this.dateFilterEnd = ''\r\n      this.closeDateFilter()\r\n    },\r\n    openEditModal() {\r\n      this.editForm.name = this.user.name\r\n      this.editForm.signature = this.user.signature\r\n      this.editForm.password = ''\r\n      this.editForm.confirmPassword = ''\r\n      this.showEditModal = true\r\n    },\r\n    closeEditModal() {\r\n      this.showEditModal = false\r\n      this.editForm.password = ''\r\n      this.editForm.confirmPassword = ''\r\n    },\r\n    saveProfile() {\r\n      const trimmedName = this.editForm.name?.trim()\r\n      const trimmedSignature = this.editForm.signature?.trim() ?? ''\r\n      const password = this.editForm.password?.trim()\r\n      const confirmPassword = this.editForm.confirmPassword?.trim()\r\n\r\n      // éªŒè¯å¯†ç \r\n      if (password || confirmPassword) {\r\n        if (!password) {\r\n          alert('è¯·è¾“å…¥æ–°å¯†ç ')\r\n          return\r\n        }\r\n        if (password.length < 6) {\r\n          alert('å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½')\r\n          return\r\n        }\r\n        if (password !== confirmPassword) {\r\n          alert('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´')\r\n          return\r\n        }\r\n        // æ›´æ–°å¯†ç \r\n        const currentUsername = getCurrentUser()\r\n        if (!currentUsername) {\r\n          alert('æ— æ³•è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼Œè¯·é‡æ–°ç™»å½•')\r\n          return\r\n        }\r\n        const success = updateMockUserPassword(currentUsername, password)\r\n        if (success) {\r\n          alert('å¯†ç å·²æ›´æ–°')\r\n        } else {\r\n          alert('å¯†ç æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•')\r\n          return\r\n        }\r\n      }\r\n\r\n      if (trimmedName) {\r\n        this.user.name = trimmedName\r\n        this.panel.name = trimmedName\r\n      }\r\n      this.user.signature = trimmedSignature\r\n\r\n      this.persistProfile()\r\n      this.showEditModal = false\r\n    },\r\n    loadStoredProfile() {\r\n      try {\r\n        const cached = localStorage.getItem('profileUser')\r\n        if (!cached) return\r\n        const parsed = JSON.parse(cached)\r\n        if (parsed.name) {\r\n          this.user.name = parsed.name\r\n          this.panel.name = parsed.name\r\n        }\r\n        if (typeof parsed.signature === 'string') {\r\n          this.user.signature = parsed.signature\r\n        }\r\n      } catch (err) {\r\n        console.warn('åŠ è½½æœ¬åœ°èµ„æ–™å¤±è´¥', err)\r\n      }\r\n    },\r\n    persistProfile() {\r\n      try {\r\n        localStorage.setItem('profileUser', JSON.stringify({\r\n          name: this.user.name,\r\n          signature: this.user.signature\r\n        }))\r\n      } catch (err) {\r\n        console.warn('ä¿å­˜æœ¬åœ°èµ„æ–™å¤±è´¥', err)\r\n      }\r\n    },\r\n    loadUserWorks() {\r\n      try {\r\n        const works = localStorage.getItem('userWorks')\r\n        if (works) {\r\n          this.userWorks = JSON.parse(works)\r\n        } else {\r\n          this.userWorks = []\r\n        }\r\n        // æ›´æ–°å¿«é€Ÿå…¥å£ä¸­çš„ä½œå“æ•°é‡\r\n        const worksEntry = this.panel.quickEntries.find(entry => entry.key === 'works')\r\n        if (worksEntry) {\r\n          worksEntry.value = this.userWorks.length.toString()\r\n        }\r\n      } catch (err) {\r\n        console.warn('åŠ è½½ä½œå“å¤±è´¥', err)\r\n        this.userWorks = []\r\n      }\r\n    },\r\n    saveUserWorks() {\r\n      try {\r\n        localStorage.setItem('userWorks', JSON.stringify(this.userWorks))\r\n        // æ›´æ–°å¿«é€Ÿå…¥å£ä¸­çš„ä½œå“æ•°é‡\r\n        const worksEntry = this.panel.quickEntries.find(entry => entry.key === 'works')\r\n        if (worksEntry) {\r\n          worksEntry.value = this.userWorks.length.toString()\r\n        }\r\n        // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œé€šçŸ¥å…¶ä»–é¡µé¢æ›´æ–°\r\n        window.dispatchEvent(new Event('userWorksUpdated'))\r\n      } catch (err) {\r\n        console.warn('ä¿å­˜ä½œå“å¤±è´¥', err)\r\n      }\r\n    },\r\n    handleStorageChange(event) {\r\n      // å½“localStorageä¸­çš„userWorkså‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°åŠ è½½\r\n      if (event.key === 'userWorks') {\r\n        this.loadUserWorks()\r\n      }\r\n    },\r\n    handleNavClick(link) {\r\n      this.activeNav = link.key\r\n      if (link.key === 'my') return\r\n      const pathMap = {\r\n        discover: '/',\r\n        live: '/live',\r\n        community: '/community',\r\n        my: '/profile'\r\n      }\r\n      this.$router.push(pathMap[link.key] || '/')\r\n    },\r\n    navigateToTab(tabKey, { scroll = true, syncQuery = true } = {}) {\r\n      if (!tabKey) return\r\n      if (this.activeTab !== tabKey) {\r\n        this.activeTab = tabKey\r\n      }\r\n      if (syncQuery) {\r\n        const nextQuery = { ...this.$route.query, tab: tabKey }\r\n        this.$router.replace({ path: this.$route.path, query: nextQuery }).catch(() => {})\r\n      }\r\n      if (scroll) {\r\n        this.scrollToTabSection()\r\n      }\r\n    },\r\n    openLikesTab() {\r\n      this.navigateToTab('likes')\r\n    },\r\n    handlePanelQuickEntry(link) {\r\n      if (!link?.key) return\r\n      this.navigateToTab(link.key)\r\n    },\r\n    consumePendingProfileTab() {\r\n      try {\r\n        const pendingTab = sessionStorage.getItem('pendingProfileTab')\r\n        if (!pendingTab) return\r\n        sessionStorage.removeItem('pendingProfileTab')\r\n        const validTabs = this.tabs.map(t => t.key)\r\n        if (!validTabs.includes(pendingTab)) return\r\n        this.navigateToTab(pendingTab, { syncQuery: false })\r\n      } catch (err) {\r\n        console.warn('è¯»å–ä¸ªäººé¡µç›®æ ‡æ ‡ç­¾å¤±è´¥', err)\r\n      }\r\n    },\r\n    syncTabFromRoute(tab) {\r\n      const validTabs = this.tabs.map(t => t.key)\r\n      if (!tab || !validTabs.includes(tab)) return\r\n      if (this.activeTab !== tab) {\r\n        this.activeTab = tab\r\n      }\r\n      this.scrollToTabSection(false)\r\n    },\r\n    scrollToTabSection(withAnimation = true) {\r\n      this.$nextTick(() => {\r\n        const section = this.$refs.tabSection\r\n        if (section?.scrollIntoView) {\r\n          section.scrollIntoView({\r\n            behavior: withAnimation ? 'smooth' : 'auto',\r\n            block: 'start'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleLogout() {\r\n      clearAuthToken()\r\n      this.$router.push({ name: 'login' }).catch(() => {})\r\n    },\r\n    goToUploadVideo() {\r\n      this.$router.push({ path: '/upload-video' }).catch(() => {})\r\n    },\r\n    goToGoingLive() {\r\n      // ä»ä¸ªäººé¡µâ€œå¼€ç›´æ’­â€å…¥å£è·³è½¬åˆ°ç›´æ’­ç®¡ç†é¡µï¼ˆå¼€æ’­è®¾ç½®ï¼‰\r\n      this.$router.push({ path: '/live-manage' }).catch(() => {})\r\n    },\r\n    openFollowModal(tab) {\r\n      this.followModalTab = tab || 'following'\r\n      this.followSearchQuery = ''\r\n      this.showFollowModal = true\r\n    },\r\n    closeFollowModal() {\r\n      this.showFollowModal = false\r\n      this.followSearchQuery = ''\r\n      this.showSortDropdown = false\r\n      this.selectedSort = 'ç»¼åˆæ’åº'\r\n    },\r\n    enterBatchMode() {\r\n      this.isBatchMode = true\r\n      this.selectedItems = []\r\n    },\r\n    exitBatchMode() {\r\n      this.isBatchMode = false\r\n      this.selectedItems = []\r\n    },\r\n    toggleSelectItem(itemId) {\r\n      const index = this.selectedItems.indexOf(itemId)\r\n      if (index > -1) {\r\n        this.selectedItems.splice(index, 1)\r\n      } else {\r\n        this.selectedItems.push(itemId)\r\n      }\r\n    },\r\n    toggleSelectAll() {\r\n      const currentVideos = this.activeTab === 'works' ? this.myWorks : this.likedVideos\r\n      if (this.isAllSelected) {\r\n        this.selectedItems = []\r\n      } else {\r\n        this.selectedItems = currentVideos.map(video => video.id)\r\n      }\r\n    },\r\n    handleBatchDelete() {\r\n      if (this.selectedItems.length === 0) {\r\n        return\r\n      }\r\n      if (confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${this.selectedItems.length} ä¸ªä½œå“å—ï¼Ÿ`)) {\r\n        if (this.activeTab === 'works') {\r\n          this.userWorks = this.userWorks.filter(work => !this.selectedItems.includes(work.id))\r\n          this.saveUserWorks()\r\n        } else if (this.activeTab === 'likes') {\r\n          this.likedVideoIds = this.likedVideoIds.filter(id => !this.selectedItems.includes(id))\r\n        }\r\n        this.selectedItems = []\r\n        // å¦‚æœåˆ é™¤åæ²¡æœ‰ä½œå“äº†ï¼Œè‡ªåŠ¨é€€å‡ºæ‰¹é‡ç®¡ç†æ¨¡å¼\r\n        const currentVideos = this.activeTab === 'works' ? this.myWorks : this.likedVideos\r\n        if (currentVideos.length === 0) {\r\n          this.exitBatchMode()\r\n        }\r\n      }\r\n    },\r\n    handleBatchPermission() {\r\n      if (this.selectedItems.length === 0) {\r\n        return\r\n      }\r\n      if (this.activeTab === 'works') {\r\n        const count = this.selectedItems.length\r\n        // å°†é€‰ä¸­çš„ä½œå“è®¾ä¸ºç§å¯†\r\n        this.userWorks.forEach(work => {\r\n          if (this.selectedItems.includes(work.id)) {\r\n            work.isPrivate = true\r\n          }\r\n        })\r\n        this.saveUserWorks()\r\n        this.selectedItems = []\r\n        alert(`å·²å°† ${count} ä¸ªä½œå“è®¾ä¸ºç§å¯†`)\r\n      }\r\n    },\r\n    toggleFollow(user) {\r\n      if (user.followStatus === 'followed') {\r\n        user.followStatus = 'not-followed'\r\n      } else if (user.followStatus === 'mutual') {\r\n        user.followStatus = 'not-followed'\r\n      } else {\r\n        user.followStatus = 'followed'\r\n      }\r\n    },\r\n    getFollowButtonText(status) {\r\n      const statusMap = {\r\n        'followed': 'å·²å…³æ³¨',\r\n        'mutual': 'ç›¸äº’å…³æ³¨',\r\n        'not-followed': 'å…³æ³¨'\r\n      }\r\n      return statusMap[status] || 'å…³æ³¨'\r\n    },\r\n    selectSort(option) {\r\n      this.selectedSort = option\r\n      this.showSortDropdown = false\r\n      if (this.sortDropdownTimer) {\r\n        clearTimeout(this.sortDropdownTimer)\r\n        this.sortDropdownTimer = null\r\n      }\r\n    },\r\n    handleSortDropdownEnter() {\r\n      if (this.sortDropdownTimer) {\r\n        clearTimeout(this.sortDropdownTimer)\r\n        this.sortDropdownTimer = null\r\n      }\r\n      this.showSortDropdown = true\r\n    },\r\n    handleSortDropdownLeave() {\r\n      this.sortDropdownTimer = setTimeout(() => {\r\n        this.showSortDropdown = false\r\n        this.sortDropdownTimer = null\r\n      }, 300)\r\n    },\r\n    getThumbnailStyle(video) {\r\n      // ä¼˜å…ˆä½¿ç”¨ä¸Šä¼ çš„å°é¢\r\n      let thumbnailUrl = video.thumbnail\r\n      \r\n      // å¦‚æœæœ‰coverKeyï¼Œå°è¯•ä»sessionStorageè¯»å–\r\n      if (video.coverKey && sessionStorage.getItem(video.coverKey)) {\r\n        thumbnailUrl = sessionStorage.getItem(video.coverKey)\r\n      }\r\n      \r\n      if (thumbnailUrl && thumbnailUrl !== this.defaultThumbnail) {\r\n        return {\r\n          backgroundImage: `url(${thumbnailUrl})`,\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          backgroundRepeat: 'no-repeat',\r\n          backgroundColor: video.thumbnailColor || '#f5f5f5',\r\n        }\r\n      }\r\n      return { background: video.thumbnailColor || '#f5f5f5' }\r\n    },\r\n    handleVideoClick(video) {\r\n      // åœ¨æ‰¹é‡ç®¡ç†æ¨¡å¼ä¸‹ï¼Œä¸è·³è½¬\r\n      if (this.isBatchMode) {\r\n        return\r\n      }\r\n      // è·³è½¬åˆ°è§†é¢‘é¡µé¢ï¼Œä¼ é€’è§†é¢‘ID\r\n      this.$router.push({ \r\n        path: '/video', \r\n        query: { id: video.id } \r\n      }).catch(() => {})\r\n    },\r\n    openRoleCardModal() {\r\n      // å¦‚æœæœ‰ç°æœ‰è§’è‰²å¡ï¼ŒåŠ è½½æ•°æ®åˆ°è¡¨å•\r\n      if (this.currentRoleCard) {\r\n        this.roleCardForm = {\r\n          portrait: this.currentRoleCard.portrait || '',\r\n          name: this.currentRoleCard.name || '',\r\n          gender: this.currentRoleCard.gender || '',\r\n          birthday: this.currentRoleCard.birthday || '',\r\n          height: this.currentRoleCard.height || '',\r\n          hobby: this.currentRoleCard.hobby || '',\r\n          personalityTags: this.currentRoleCard.personalityTags ? [...this.currentRoleCard.personalityTags] : [],\r\n          raceTags: this.currentRoleCard.raceTags ? [...this.currentRoleCard.raceTags] : [],\r\n          appearanceTags: this.currentRoleCard.appearanceTags ? [...this.currentRoleCard.appearanceTags] : [],\r\n          backgroundStory: this.currentRoleCard.backgroundStory || ''\r\n        }\r\n      } else {\r\n        // å¦‚æœæ²¡æœ‰è§’è‰²å¡ï¼Œé‡ç½®è¡¨å•\r\n        this.roleCardForm = {\r\n          portrait: '',\r\n          name: '',\r\n          gender: '',\r\n          birthday: '',\r\n          height: '',\r\n          hobby: '',\r\n          personalityTags: [],\r\n          raceTags: [],\r\n          appearanceTags: [],\r\n          backgroundStory: ''\r\n        }\r\n      }\r\n      this.showRoleCardModal = true\r\n    },\r\n    closeRoleCardModal() {\r\n      this.showRoleCardModal = false\r\n      // é‡ç½®è¡¨å•\r\n      this.roleCardForm = {\r\n        portrait: '',\r\n        name: '',\r\n        gender: '',\r\n        birthday: '',\r\n        height: '',\r\n        hobby: '',\r\n        personalityTags: [],\r\n        raceTags: [],\r\n        appearanceTags: [],\r\n        backgroundStory: ''\r\n      }\r\n      // é‡ç½®æ–‡ä»¶è¾“å…¥\r\n      if (this.$refs.portraitInput) {\r\n        this.$refs.portraitInput.value = ''\r\n      }\r\n    },\r\n    submitRoleCard() {\r\n      // è¡¨å•éªŒè¯\r\n      if (!this.roleCardForm.name || !this.roleCardForm.name.trim()) {\r\n        alert('è¯·è¾“å…¥è§’è‰²åç§°')\r\n        return\r\n      }\r\n      if (!this.roleCardForm.gender) {\r\n        alert('è¯·é€‰æ‹©æ€§åˆ«')\r\n        return\r\n      }\r\n      if (!this.roleCardForm.birthday) {\r\n        alert('è¯·é€‰æ‹©ç”Ÿæ—¥')\r\n        return\r\n      }\r\n      if (!this.roleCardForm.height || this.roleCardForm.height <= 0) {\r\n        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„èº«é«˜')\r\n        return\r\n      }\r\n      if (this.roleCardForm.personalityTags.length === 0) {\r\n        alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ€§æ ¼æ ‡ç­¾')\r\n        return\r\n      }\r\n      if (this.roleCardForm.raceTags.length === 0) {\r\n        alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç§æ—æ ‡ç­¾')\r\n        return\r\n      }\r\n      if (this.roleCardForm.appearanceTags.length === 0) {\r\n        alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªå¤–è§‚æ ‡ç­¾')\r\n        return\r\n      }\r\n      if (!this.roleCardForm.backgroundStory || !this.roleCardForm.backgroundStory.trim()) {\r\n        alert('è¯·è¾“å…¥èƒŒæ™¯æ•…äº‹')\r\n        return\r\n      }\r\n\r\n      // ä¿å­˜è§’è‰²å¡æ•°æ®åˆ°localStorage\r\n      try {\r\n        const roleCards = JSON.parse(localStorage.getItem('roleCards') || '[]')\r\n        \r\n        if (this.currentRoleCard) {\r\n          // ç¼–è¾‘æ¨¡å¼ï¼šæ›´æ–°ç°æœ‰è§’è‰²å¡\r\n          const index = roleCards.findIndex(card => card.id === this.currentRoleCard.id)\r\n          if (index !== -1) {\r\n            roleCards[index] = {\r\n              ...this.currentRoleCard,\r\n              ...this.roleCardForm,\r\n              portrait: this.roleCardForm.portrait || this.currentRoleCard.portrait || '',\r\n              name: this.roleCardForm.name.trim(),\r\n              hobby: this.roleCardForm.hobby.trim(),\r\n              backgroundStory: this.roleCardForm.backgroundStory.trim(),\r\n              // ä¿ç•™åŸæœ‰çš„idå’ŒsubmitTime\r\n              id: this.currentRoleCard.id,\r\n              submitTime: this.currentRoleCard.submitTime || new Date().toISOString(),\r\n              status: 'approved'\r\n            }\r\n            localStorage.setItem('roleCards', JSON.stringify(roleCards))\r\n            alert('è§’è‰²å¡å·²æ›´æ–°æˆåŠŸï¼')\r\n          } else {\r\n            alert('æœªæ‰¾åˆ°è¦ç¼–è¾‘çš„è§’è‰²å¡')\r\n            return\r\n          }\r\n        } else {\r\n          // æ–°å»ºæ¨¡å¼ï¼šåˆ›å»ºæ–°è§’è‰²å¡\r\n          const newRoleCard = {\r\n            id: Date.now(),\r\n            ...this.roleCardForm,\r\n            portrait: this.roleCardForm.portrait || '',\r\n            name: this.roleCardForm.name.trim(),\r\n            hobby: this.roleCardForm.hobby.trim(),\r\n            backgroundStory: this.roleCardForm.backgroundStory.trim(),\r\n            submitTime: new Date().toISOString(),\r\n            status: 'approved' // ç›´æ¥é€šè¿‡ï¼Œæ— éœ€å®¡æ ¸\r\n          }\r\n          roleCards.push(newRoleCard)\r\n          localStorage.setItem('roleCards', JSON.stringify(roleCards))\r\n          alert('è§’è‰²å¡å·²åˆ›å»ºæˆåŠŸï¼')\r\n        }\r\n        \r\n        this.closeRoleCardModal()\r\n        // è‡ªåŠ¨å±•å¼€è§’è‰²ä¿¡æ¯é¢æ¿\r\n        if (!this.showRoleInfo) {\r\n          this.showRoleInfo = true\r\n        }\r\n      } catch (err) {\r\n        console.error('ä¿å­˜è§’è‰²å¡å¤±è´¥', err)\r\n        alert('æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•')\r\n      }\r\n    },\r\n    toggleRoleInfo() {\r\n      this.showRoleInfo = !this.showRoleInfo\r\n    },\r\n    getGenderText(gender) {\r\n      const genderMap = {\r\n        'male': 'ç”·',\r\n        'female': 'å¥³',\r\n        'other': 'å…¶ä»–'\r\n      }\r\n      return genderMap[gender] || gender\r\n    },\r\n    formatBirthday(birthday) {\r\n      if (!birthday) return ''\r\n      const date = new Date(birthday)\r\n      const month = date.getMonth() + 1\r\n      const day = date.getDate()\r\n      return `${month}æœˆ${day}æ—¥`\r\n    },\r\n    triggerPortraitInput() {\r\n      this.$refs.portraitInput?.click()\r\n    },\r\n    handlePortraitSelect(event) {\r\n      const file = event.target.files?.[0]\r\n      if (file) {\r\n        // æ£€æŸ¥æ–‡ä»¶ç±»å‹\r\n        if (!file.type.startsWith('image/')) {\r\n          alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶')\r\n          // é‡ç½®æ–‡ä»¶è¾“å…¥\r\n          if (this.$refs.portraitInput) {\r\n            this.$refs.portraitInput.value = ''\r\n          }\r\n          return\r\n        }\r\n        // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º5MBï¼‰\r\n        const maxSize = 5 * 1024 * 1024\r\n        if (file.size > maxSize) {\r\n          alert('å›¾ç‰‡æ–‡ä»¶è¿‡å¤§ï¼ˆè¶…è¿‡5MBï¼‰ï¼Œè¯·é€‰æ‹©è¾ƒå°çš„å›¾ç‰‡')\r\n          // é‡ç½®æ–‡ä»¶è¾“å…¥\r\n          if (this.$refs.portraitInput) {\r\n            this.$refs.portraitInput.value = ''\r\n          }\r\n          return\r\n        }\r\n        // å°†å›¾ç‰‡è½¬æ¢ä¸ºbase64\r\n        const reader = new FileReader()\r\n        reader.onload = (e) => {\r\n          this.roleCardForm.portrait = e.target.result\r\n        }\r\n        reader.onerror = () => {\r\n          alert('è¯»å–å›¾ç‰‡æ–‡ä»¶å¤±è´¥ï¼Œè¯·é‡è¯•')\r\n          // é‡ç½®æ–‡ä»¶è¾“å…¥\r\n          if (this.$refs.portraitInput) {\r\n            this.$refs.portraitInput.value = ''\r\n          }\r\n        }\r\n        reader.readAsDataURL(file)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-page {\r\n  display: grid;\r\n  grid-template-columns: 260px 1fr;\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #fef7ff 0%, #f5f0ff 50%, #fff0f8 100%);\r\n  color: #2d2d2d;\r\n  font-family: 'Segoe UI', 'PingFang SC', sans-serif;\r\n  position: relative;\r\n}\r\n\r\n.sidebar {\r\n  padding: 32px 24px;\r\n  border-right: 1px solid rgba(255, 105, 180, 0.2);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32px;\r\n  background: rgba(255, 255, 255, 0.6);\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.brand {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.logo {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 14px;\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 700;\r\n  letter-spacing: 1px;\r\n  box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);\r\n}\r\n\r\n.brand-text h1 {\r\n  font-size: 1.2rem;\r\n  margin: 0;\r\n}\r\n\r\n.brand-text p {\r\n  margin: 4px 0 0;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.nav-links {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.nav-link {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px 16px;\r\n  background: transparent;\r\n  border: none;\r\n  color: rgba(45, 45, 45, 0.75);\r\n  font-size: 0.95rem;\r\n  text-align: left;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease, color 0.2s ease;\r\n}\r\n\r\n.nav-link .icon {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.nav-link.active,\r\n.nav-link:hover {\r\n  background: linear-gradient(135deg, rgba(255, 105, 180, 0.15) 0%, rgba(147, 112, 219, 0.15) 100%);\r\n  color: #ff69b4;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.cta-card {\r\n  margin-top: auto;\r\n  padding: 20px;\r\n  border-radius: 18px;\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  text-align: left;\r\n}\r\n\r\n.cta-card h3 {\r\n  margin: 0 0 8px;\r\n}\r\n\r\n.cta-card p {\r\n  margin: 0 0 16px;\r\n  color: rgba(255, 255, 255, 0.85);\r\n}\r\n\r\n.cta-btn {\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  border: none;\r\n  border-radius: 12px;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  color: #fff;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.cta-btn:hover {\r\n  background: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.profile-content {\r\n  padding: 32px 48px 80px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32px;\r\n}\r\n\r\n.search-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 16px;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  display: flex;\r\n  border-radius: 16px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  overflow: hidden;\r\n  transition: border-color 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.search-input:hover {\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  background-color: rgba(255, 255, 255, 0.95);\r\n  box-shadow: 0 2px 12px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.search-input:focus-within {\r\n  border-color: rgba(255, 105, 180, 0.6);\r\n  background-color: rgba(255, 255, 255, 0.95);\r\n  box-shadow: 0 4px 16px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.search-field {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 0 14px;\r\n  flex: 1;\r\n}\r\n\r\n.search-field input {\r\n  flex: 1;\r\n  background: transparent;\r\n  border: none;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.search-field input:focus {\r\n  outline: none;\r\n}\r\n\r\n.search-icon {\r\n  color: rgba(45, 45, 45, 0.6);\r\n}\r\n\r\n.search-divider {\r\n  width: 1px;\r\n  background: rgba(255, 105, 180, 0.2);\r\n  margin: 8px 0;\r\n}\r\n\r\n.search-btn {\r\n  padding: 12px 24px;\r\n  border: 1px solid rgba(255, 105, 180, 0.5);\r\n  border-radius: 0 12px 12px 0;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #ff69b4;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  /* ä¿ç•™å·¦ä¾§æè¾¹ï¼Œè®©æŒ‰é’®ä¸è¾“å…¥æ¡†è§†è§‰ä¸Šé—­åˆï¼ˆä¸é¦–é¡µä¸€è‡´ï¼‰ */\r\n  border-left: 1px solid rgba(255, 105, 180, 0.5);\r\n  transition: all 0.25s ease;\r\n}\r\n\r\n.search-btn:hover {\r\n  background: rgba(255, 105, 180, 0.06);\r\n  box-shadow: 0 4px 14px rgba(255, 105, 180, 0.25);\r\n  transform: translateY(-1px);\r\n  border-color: rgba(255, 105, 180, 0.8);\r\n}\r\n\r\n.search-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.action-btn {\r\n  padding: 10px 18px;\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #ff69b4;\r\n  font-weight: 600;\r\n}\r\n\r\n.action-btn.primary {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-color: rgba(255, 105, 180, 0.6);\r\n  color: #ff69b4;\r\n}\r\n\r\n.action-dropdown,\r\n.avatar-dropdown {\r\n  position: relative;\r\n}\r\n\r\n.dropdown-menu {\r\n  position: absolute;\r\n  top: 100%;\r\n  right: 0;\r\n  min-width: 160px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-radius: 14px;\r\n  padding: 10px 8px 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  box-shadow: 0 8px 32px rgba(255, 105, 180, 0.2);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transform: translateY(8px);\r\n  transition: opacity 0.15s ease, transform 0.15s ease;\r\n  z-index: 5;\r\n}\r\n\r\n.dropdown-menu::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -12px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 12px;\r\n}\r\n\r\n.action-dropdown:hover .dropdown-menu {\r\n  opacity: 1;\r\n  pointer-events: auto;\r\n  transform: translateY(0);\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 10px 14px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  background: transparent;\r\n  color: #2d2d2d;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n}\r\n\r\n.avatar-btn {\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: 50%;\r\n  border: 1px solid rgba(255, 255, 255, 0.35);\r\n  background: rgba(255, 255, 255, 0.1);\r\n  overflow: hidden;\r\n  padding: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n.avatar-btn img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n\r\n.profile-panel {\r\n  position: absolute;\r\n  top: calc(100% + 12px);\r\n  right: 0;\r\n  width: 320px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-radius: 24px;\r\n  padding: 20px;\r\n  box-shadow: 0 12px 40px rgba(255, 105, 180, 0.25);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transform: translateY(8px);\r\n  transition: opacity 0.18s ease, transform 0.18s ease;\r\n  z-index: 10;\r\n}\r\n\r\n.profile-panel::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -16px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 16px;\r\n}\r\n\r\n.avatar-dropdown:hover .profile-panel {\r\n  opacity: 1;\r\n  pointer-events: auto;\r\n  transform: translateY(0);\r\n}\r\n\r\n.profile-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 14px;\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.profile-avatar {\r\n  width: 54px;\r\n  height: 54px;\r\n  border-radius: 16px;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.profile-avatar img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n\r\n.profile-name {\r\n  margin: 0;\r\n  font-weight: 600;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.profile-stats {\r\n  margin: 4px 0 0;\r\n  color: rgba(45, 45, 45, 0.65);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.profile-badge {\r\n  margin-left: auto;\r\n  padding: 4px 10px;\r\n  border-radius: 999px;\r\n  border: 1px solid rgba(255, 105, 180, 0.4);\r\n  background: linear-gradient(135deg, rgba(255, 105, 180, 0.1) 0%, rgba(147, 112, 219, 0.1) 100%);\r\n  color: #ff69b4;\r\n  font-size: 0.75rem;\r\n  letter-spacing: 0.08em;\r\n}\r\n\r\n.favorite-section {\r\n  background: rgba(255, 105, 180, 0.05);\r\n  border-radius: 18px;\r\n  padding: 12px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.favorites-hover-zone {\r\n  position: relative;\r\n}\r\n\r\n.section-title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  font-weight: 600;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.section-title.clickable {\r\n  cursor: pointer;\r\n}\r\n\r\n.favorite-cards {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n  padding: 12px 0 0;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transform: translateY(-6px);\r\n  max-height: 0;\r\n  overflow: hidden;\r\n  transition: opacity 0.18s ease, transform 0.18s ease, max-height 0.18s ease;\r\n}\r\n\r\n.favorites-hover-zone:hover .favorite-cards,\r\n.favorites-hover-zone:focus-within .favorite-cards {\r\n  opacity: 1;\r\n  pointer-events: auto;\r\n  transform: translateY(0);\r\n  max-height: 200px;\r\n}\r\n\r\n.favorite-card {\r\n  background: rgba(255, 255, 255, 0.6);\r\n  border-radius: 14px;\r\n  padding: 6px;\r\n  font-size: 0.75rem;\r\n  border: 1px solid rgba(255, 105, 180, 0.1);\r\n}\r\n\r\n.fav-thumb {\r\n  border-radius: 10px;\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  padding: 6px;\r\n  font-size: 0.65rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.favorite-card p {\r\n  margin: 6px 0 0;\r\n  color: rgba(45, 45, 45, 0.75);\r\n  line-height: 1.2;\r\n}\r\n\r\n.quick-links {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.quick-link {\r\n  background: rgba(255, 105, 180, 0.05);\r\n  border: 1px solid rgba(255, 105, 180, 0.1);\r\n  border-radius: 14px;\r\n  padding: 10px 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  color: #2d2d2d;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease, border-color 0.2s ease, transform 0.2s ease;\r\n}\r\n\r\n.quick-link:hover,\r\n.quick-link:focus-visible {\r\n  background: rgba(255, 105, 180, 0.12);\r\n  border-color: rgba(255, 105, 180, 0.3);\r\n  transform: translateX(2px);\r\n}\r\n\r\n.ql-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-weight: 500;\r\n}\r\n\r\n.ql-value {\r\n  color: rgba(45, 45, 45, 0.65);\r\n}\r\n\r\n.secondary-links {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.secondary-link {\r\n  background: transparent;\r\n  border: none;\r\n  color: rgba(45, 45, 45, 0.75);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 0;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.secondary-link:hover {\r\n  color: #ff69b4;\r\n}\r\n\r\n.profile-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.logout {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: transparent;\r\n  color: #2d2d2d;\r\n  border-radius: 999px;\r\n  padding: 6px 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.logout:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.remember-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 0.85rem;\r\n  color: rgba(45, 45, 45, 0.7);\r\n}\r\n\r\n.remember-toggle input {\r\n  accent-color: #ff69b4;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.45);\r\n  backdrop-filter: blur(6px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 100;\r\n}\r\n\r\n.modal-card {\r\n  width: min(420px, 90vw);\r\n  background: rgba(255, 255, 255, 0.98);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  border: 1px solid rgba(255, 105, 180, 0.18);\r\n  box-shadow: 0 20px 60px rgba(255, 105, 180, 0.25);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.modal-card h3 {\r\n  margin: 0;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.modal-card label {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  font-size: 0.9rem;\r\n  color: rgba(45, 45, 45, 0.85);\r\n}\r\n\r\n.modal-card input,\r\n.modal-card textarea {\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #2d2d2d;\r\n  padding: 10px 12px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.modal-card input:focus,\r\n.modal-card textarea:focus {\r\n  outline: none;\r\n  border-color: #ff69b4;\r\n  box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n}\r\n\r\n.modal-actions .ghost,\r\n.modal-actions .primary {\r\n  border-radius: 10px;\r\n  padding: 9px 18px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.modal-actions .ghost {\r\n  border: 1px solid rgba(45, 45, 45, 0.15);\r\n  background: #fff;\r\n  color: rgba(45, 45, 45, 0.8);\r\n}\r\n\r\n.modal-actions .ghost:hover {\r\n  border-color: rgba(255, 105, 180, 0.45);\r\n  color: #ff69b4;\r\n  background: rgba(255, 105, 180, 0.08);\r\n}\r\n\r\n.modal-actions .primary {\r\n  border: none;\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  color: #fff;\r\n  box-shadow: 0 10px 24px rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.modal-actions .primary:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 14px 30px rgba(255, 105, 180, 0.4);\r\n}\r\n\r\n/* è§’è‰²å¡å¼¹çª—æ ·å¼ */\r\n.role-card-modal {\r\n  width: min(600px, 90vw);\r\n  max-height: 90vh;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 20px;\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  box-shadow: 0 20px 60px rgba(255, 105, 180, 0.3);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.role-card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20px 24px;\r\n  border-bottom: 1px solid rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.role-card-header h3 {\r\n  margin: 0;\r\n  color: #2d2d2d;\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.role-card-header .close-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  color: rgba(45, 45, 45, 0.8);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background 0.2s ease, color 0.2s ease;\r\n}\r\n\r\n.role-card-header .close-btn:hover {\r\n  background: rgba(255, 105, 180, 0.2);\r\n  color: #ff69b4;\r\n}\r\n\r\n.role-card-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 24px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.role-card-content label {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  font-size: 0.95rem;\r\n  color: #2d2d2d;\r\n  font-weight: 500;\r\n}\r\n\r\n.role-card-content input,\r\n.role-card-content select,\r\n.role-card-content textarea {\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #2d2d2d;\r\n  padding: 10px 12px;\r\n  font-size: 0.95rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.role-card-content input:focus,\r\n.role-card-content select:focus,\r\n.role-card-content textarea:focus {\r\n  outline: none;\r\n  border-color: #ff69b4;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0 2px 8px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.role-card-content textarea {\r\n  resize: vertical;\r\n  min-height: 100px;\r\n  font-family: inherit;\r\n}\r\n\r\n.char-count {\r\n  align-self: flex-end;\r\n  font-size: 0.85rem;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  margin-top: 4px;\r\n}\r\n\r\n.portrait-upload-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.portrait-label {\r\n  font-size: 0.95rem;\r\n  color: #2d2d2d;\r\n  font-weight: 500;\r\n}\r\n\r\n.portrait-upload-area {\r\n  position: relative;\r\n  width: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.portrait-placeholder {\r\n  width: 100%;\r\n  height: 200px;\r\n  border: 2px dashed rgba(255, 105, 180, 0.3);\r\n  border-radius: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  background: rgba(255, 105, 180, 0.05);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.portrait-placeholder:hover {\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  background: rgba(255, 105, 180, 0.1);\r\n}\r\n\r\n.upload-icon {\r\n  font-size: 3rem;\r\n  opacity: 0.6;\r\n}\r\n\r\n.upload-text {\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.portrait-preview {\r\n  width: 100%;\r\n  height: 200px;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  border: 2px solid rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.portrait-preview img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.portrait-overlay {\r\n  position: absolute;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  color: #fff;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.portrait-preview:hover .portrait-overlay {\r\n  opacity: 1;\r\n}\r\n\r\n.tags-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.tags-label {\r\n  font-weight: 500;\r\n  color: #2d2d2d;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.tags-group {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.tag-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 12px;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-size: 0.9rem;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.tag-checkbox:hover {\r\n  background: rgba(255, 105, 180, 0.15);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n}\r\n\r\n.tag-checkbox input[type=\"checkbox\"] {\r\n  margin: 0;\r\n  cursor: pointer;\r\n  accent-color: #ff69b4;\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.tag-checkbox input[type=\"checkbox\"]:checked + span {\r\n  color: #ff69b4;\r\n  font-weight: 500;\r\n}\r\n\r\n.tag-checkbox.tag-checked {\r\n  background: rgba(255, 105, 180, 0.2);\r\n  border-color: #ff69b4;\r\n}\r\n\r\n.tag-checkbox.tag-checked span {\r\n  color: #ff69b4;\r\n  font-weight: 500;\r\n}\r\n\r\n.role-card-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n  padding: 20px 24px;\r\n  border-top: 1px solid rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.role-card-actions .ghost,\r\n.role-card-actions .primary {\r\n  border-radius: 10px;\r\n  padding: 10px 24px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  cursor: pointer;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.role-card-actions .ghost:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.role-card-actions .primary {\r\n  border: none;\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n\r\n.role-card-actions .primary:hover {\r\n  opacity: 0.9;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.role-card-content::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.role-card-content::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.role-card-content::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 105, 180, 0.3);\r\n  border-radius: 3px;\r\n}\r\n\r\n.role-card-content::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 105, 180, 0.5);\r\n}\r\n\r\n.hero {\r\n  background: rgba(255, 255, 255, 0.8);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 24px 24px 12px 12px;\r\n  padding-bottom: 10px;\r\n  overflow: visible;\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  margin-bottom: 0;\r\n  box-shadow: 0 4px 20px rgba(255, 105, 180, 0.15);\r\n  position: relative;\r\n}\r\n\r\n.cover {\r\n  height: 80px;\r\n  background: linear-gradient(135deg, rgba(255, 105, 180, 0.15) 0%, rgba(147, 112, 219, 0.15) 50%, rgba(72, 209, 204, 0.1) 100%);\r\n}\r\n\r\n.profile-card {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  padding: 0 24px 12px;\r\n  margin-top: -32px;\r\n  position: relative;\r\n}\r\n\r\n.profile-card .avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 28px;\r\n  border: 4px solid rgba(255, 255, 255, 0.9);\r\n  object-fit: cover;\r\n  box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.info h1 {\r\n  margin: 0;\r\n  color: #2d2d2d;\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.signature {\r\n  margin: 0;\r\n  color: rgba(45, 45, 45, 0.7);\r\n  font-size: 0.95rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n.name-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.edit-btn {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: rgba(45, 45, 45, 0.8);\r\n  border-radius: 50%;\r\n  width: 32px;\r\n  height: 32px;\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.edit-btn:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.live-tag {\r\n  padding: 4px 10px;\r\n  border-radius: 999px;\r\n  background: #ff69b4;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.stats {\r\n  display: flex;\r\n  gap: 16px;\r\n  color: #000;\r\n}\r\n\r\n.stat-item.clickable {\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n  color: #000;\r\n}\r\n\r\n.stat-item.clickable:hover {\r\n  color: #ff69b4;\r\n}\r\n\r\n.role-card-btn {\r\n  margin-left: auto;\r\n  padding: 10px 20px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #ff69b4;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 12px;\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.role-card-btn:hover {\r\n  background: rgba(255, 255, 255, 1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.25);\r\n}\r\n\r\n.meta {\r\n  display: flex;\r\n  gap: 16px;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* è§’è‰²ä¿¡æ¯ä¸‹æ‹‰æ¡†æ ·å¼ */\r\n.role-info-toggle-btn {\r\n  position: absolute;\r\n  bottom: -20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 60px;\r\n  height: 40px;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-top: none;\r\n  border-radius: 0 0 30px 30px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  z-index: 10;\r\n  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.role-info-toggle-btn:hover {\r\n  background: rgba(255, 255, 255, 1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  box-shadow: 0 6px 16px rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.role-info-toggle-btn .toggle-icon {\r\n  color: #ff69b4;\r\n  font-size: 1.2rem;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.role-info-toggle-btn.expanded .toggle-icon {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.role-info-panel {\r\n  max-height: 0;\r\n  overflow: hidden;\r\n  transition: max-height 0.5s ease;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-top: 1px solid rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.role-info-panel.expanded {\r\n  max-height: 1000px;\r\n}\r\n\r\n.role-info-content {\r\n  display: flex;\r\n  gap: 24px;\r\n  padding: 24px;\r\n  min-height: 400px;\r\n}\r\n\r\n.role-portrait {\r\n  width: 300px;\r\n  height: 400px;\r\n  flex-shrink: 0;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.role-portrait img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.role-portrait-placeholder {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 4rem;\r\n  color: rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.role-details {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.role-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.role-name {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.role-tabs {\r\n  display: flex;\r\n  gap: 8px;\r\n  border-bottom: 1px solid rgba(255, 105, 180, 0.2);\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.role-tab {\r\n  background: transparent;\r\n  border: none;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.95rem;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  border-radius: 8px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.role-tab:hover {\r\n  color: #ff69b4;\r\n  background: rgba(255, 105, 180, 0.05);\r\n}\r\n\r\n.role-tab.active {\r\n  color: #ff69b4;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  font-weight: 600;\r\n}\r\n\r\n.role-tab-content {\r\n  flex: 1;\r\n  padding: 16px 0;\r\n  min-height: 200px;\r\n}\r\n\r\n.role-basic-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 12px 0;\r\n  border-bottom: 1px solid rgba(255, 105, 180, 0.1);\r\n}\r\n\r\n.info-label {\r\n  min-width: 80px;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.info-value {\r\n  color: #2d2d2d;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.role-tags-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.tags-group h4 {\r\n  margin: 0 0 12px;\r\n  color: #2d2d2d;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.tags-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.role-tag {\r\n  padding: 6px 14px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.role-tag.personality {\r\n  background: rgba(255, 105, 180, 0.15);\r\n  color: #ff69b4;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.role-tag.race {\r\n  background: rgba(147, 112, 219, 0.15);\r\n  color: #9370db;\r\n  border: 1px solid rgba(147, 112, 219, 0.3);\r\n}\r\n\r\n.role-tag.appearance {\r\n  background: rgba(72, 209, 204, 0.15);\r\n  color: #48d1cc;\r\n  border: 1px solid rgba(72, 209, 204, 0.3);\r\n}\r\n\r\n.role-story-content {\r\n  padding: 16px 0;\r\n}\r\n\r\n.story-text {\r\n  color: #2d2d2d;\r\n  font-size: 0.95rem;\r\n  line-height: 1.8;\r\n  white-space: pre-wrap;\r\n  margin: 0;\r\n}\r\n\r\n.empty-text {\r\n  color: rgba(45, 45, 45, 0.5);\r\n  font-size: 0.9rem;\r\n  text-align: center;\r\n  padding: 40px 0;\r\n  margin: 0;\r\n}\r\n\r\n.content-area.role-info-expanded {\r\n  margin-top: 20px;\r\n  transition: margin-top 0.5s ease;\r\n}\r\n\r\n.hero-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n}\r\n\r\n.hero-actions .primary {\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  border: none;\r\n  padding: 10px 22px;\r\n  border-radius: 14px;\r\n  color: #fff;\r\n}\r\n\r\n.hero-actions .ghost {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  padding: 10px 22px;\r\n  border-radius: 14px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.hero-actions .ghost:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.tabs-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n  gap: 16px;\r\n}\r\n\r\n.tabs {\r\n  list-style: none;\r\n  display: flex;\r\n  gap: 20px;\r\n  margin: 0;\r\n  overflow-x: auto;\r\n  padding: 0 4px;\r\n  flex: 1;\r\n}\r\n\r\n.tabs li {\r\n  cursor: pointer;\r\n  padding-bottom: 8px;\r\n  border-bottom: 2px solid transparent;\r\n  color: rgba(45, 45, 45, 0.7);\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.tabs li:hover {\r\n  color: rgba(45, 45, 45, 0.9);\r\n}\r\n\r\n.tabs li.active {\r\n  color: #ff69b4;\r\n  border-bottom-color: #ff69b4;\r\n}\r\n\r\n.content-area {\r\n  background: rgba(255, 255, 255, 0.6);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 12px 12px 20px 20px;\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-top: none;\r\n  padding: 24px;\r\n  margin-top: -6px;\r\n}\r\n\r\n.content-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n  gap: 16px;\r\n}\r\n\r\n.work-type-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.work-type-buttons button {\r\n  padding: 8px 16px;\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: rgba(45, 45, 45, 0.7);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.work-type-buttons button:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.work-type-buttons button.active {\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 100%);\r\n  color: #fff;\r\n  border-color: transparent;\r\n}\r\n\r\n.pill-group {\r\n  display: flex;\r\n  gap: 10px;\r\n  flex: 1;\r\n}\r\n\r\n.pill-group button {\r\n  padding: 8px 16px;\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: rgba(45, 45, 45, 0.7);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.pill-group button:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.pill-group button.active {\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 100%);\r\n  color: #fff;\r\n  border-color: transparent;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 12px;\r\n}\r\n\r\n.filters .search-input {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  border-radius: 12px;\r\n  padding: 8px 16px;\r\n  outline: none;\r\n  font-size: 14px;\r\n  min-width: 200px;\r\n  transition: border-color 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.filters .search-input:hover {\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  background-color: rgba(255, 255, 255, 0.95);\r\n  box-shadow: 0 2px 8px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.filters .search-input::placeholder {\r\n  color: rgba(45, 45, 45, 0.5);\r\n}\r\n\r\n.filters .search-input:focus {\r\n  border-color: rgba(255, 105, 180, 0.6);\r\n  background-color: rgba(255, 255, 255, 0.95);\r\n  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.filters button {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  border-radius: 12px;\r\n  padding: 8px 16px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.filters button:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.date-filter-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.date-filter-btn {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  border-radius: 12px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  transition: all 0.2s ease;\r\n  position: relative;\r\n}\r\n\r\n.date-filter-btn:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.date-filter-btn.active {\r\n  background: rgba(255, 77, 103, 0.15);\r\n  border-color: rgba(255, 77, 103, 0.4);\r\n  color: #ff69b4;\r\n}\r\n\r\n.filter-badge {\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 50%;\r\n  background: #ff69b4;\r\n  display: inline-block;\r\n}\r\n\r\n.date-filter-panel {\r\n  position: absolute;\r\n  top: calc(100% + 8px);\r\n  right: 0;\r\n  min-width: 320px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n  box-shadow: 0 12px 32px rgba(255, 105, 180, 0.25);\r\n  z-index: 20;\r\n}\r\n\r\n.date-filter-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n  font-weight: 600;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.close-date-filter {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: none;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  color: rgba(45, 45, 45, 0.7);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.close-date-filter:hover {\r\n  background: rgba(255, 105, 180, 0.2);\r\n  color: #ff69b4;\r\n}\r\n\r\n.date-inputs {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.date-input-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.date-input-group label {\r\n  font-size: 0.85rem;\r\n  color: rgba(45, 45, 45, 0.7);\r\n  font-weight: 500;\r\n}\r\n\r\n.date-input {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #2d2d2d;\r\n  border-radius: 10px;\r\n  padding: 10px 12px;\r\n  font-size: 0.9rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.date-input:focus {\r\n  outline: none;\r\n  border-color: #ff69b4;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0 2px 8px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.date-input::-webkit-calendar-picker-indicator {\r\n  filter: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.date-filter-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.clear-date-btn,\r\n.apply-date-btn {\r\n  padding: 8px 16px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.clear-date-btn {\r\n  background: transparent;\r\n  color: rgba(45, 45, 45, 0.7);\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.clear-date-btn:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.apply-date-btn {\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  color: #fff;\r\n}\r\n\r\n.apply-date-btn:hover {\r\n  opacity: 0.9;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.batch-manage-btn-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.batch-manage-btn {\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  border-radius: 12px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.batch-manage-btn:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.batch-toolbar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 12px 16px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-radius: 12px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.batch-toolbar-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.select-all-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  color: #2d2d2d;\r\n  font-size: 0.9rem;\r\n  user-select: none;\r\n}\r\n\r\n.select-all-checkbox input[type=\"checkbox\"] {\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: pointer;\r\n  accent-color: #ff69b4;\r\n}\r\n\r\n.selected-count {\r\n  color: rgba(45, 45, 45, 0.7);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.selected-count strong {\r\n  color: #2d2d2d;\r\n  font-weight: 600;\r\n}\r\n\r\n.batch-toolbar-divider {\r\n  width: 1px;\r\n  height: 24px;\r\n  background: rgba(255, 105, 180, 0.2);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.batch-toolbar-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-left: auto;\r\n}\r\n\r\n.batch-action-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 16px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  border-radius: 10px;\r\n  color: #2d2d2d;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.batch-action-btn:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.batch-action-btn.delete-btn:hover {\r\n  border-color: rgba(255, 77, 103, 0.5);\r\n  color: #ff69b4;\r\n}\r\n\r\n.batch-icon {\r\n  font-size: 1rem;\r\n}\r\n\r\n.video-card.batch-mode {\r\n  position: relative;\r\n}\r\n\r\n.video-checkbox {\r\n  position: absolute;\r\n  top: 12px;\r\n  left: 12px;\r\n  z-index: 10;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 24px;\r\n  height: 24px;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.video-checkbox:hover {\r\n  background: rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n.video-checkbox input[type=\"checkbox\"] {\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: pointer;\r\n  accent-color: #ff69b4;\r\n}\r\n\r\n.empty-state {\r\n  border: 1px dashed rgba(255, 105, 180, 0.3);\r\n  border-radius: 16px;\r\n  padding: 60px 20px;\r\n  text-align: center;\r\n  color: rgba(45, 45, 45, 0.65);\r\n  background: rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.empty-state .icon {\r\n  font-size: 2.5rem;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.empty-state .title {\r\n  font-size: 1.2rem;\r\n  margin-bottom: 8px;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.video-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, minmax(0, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.video-card {\r\n  border-radius: 18px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.video-card:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-color: rgba(255, 105, 180, 0.4);\r\n  box-shadow: 0 8px 25px rgba(255, 105, 180, 0.25);\r\n  transform: translateY(-4px);\r\n}\r\n\r\n.thumbnail {\r\n  position: relative;\r\n  padding-top: 60%;\r\n  border-radius: 18px 18px 0 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.thumbnail .duration {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 12px;\r\n  padding: 4px 10px;\r\n  border-radius: 999px;\r\n  background: rgba(0, 0, 0, 0.75);\r\n  color: #fff;\r\n  font-size: 0.78rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.video-meta {\r\n  padding: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.video-meta h3 {\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.video-meta .creator {\r\n  margin: 0;\r\n  color: rgba(45, 45, 45, 0.7);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.video-meta .stats {\r\n  margin: 0;\r\n  color: rgba(45, 45, 45, 0.5);\r\n  font-size: 0.85rem;\r\n}\r\n\r\n/* å…³æ³¨/ç²‰ä¸å¼¹çª—æ ·å¼ */\r\n.follow-modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 200;\r\n  backdrop-filter: blur(4px);\r\n}\r\n\r\n.follow-modal {\r\n  width: min(500px, 90vw);\r\n  max-height: 80vh;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 20px;\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  box-shadow: 0 20px 60px rgba(255, 105, 180, 0.3);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.follow-modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px 24px;\r\n  border-bottom: 1px solid rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.follow-tabs {\r\n  display: flex;\r\n  gap: 24px;\r\n}\r\n\r\n.follow-tab {\r\n  background: transparent;\r\n  border: none;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.follow-tab.active {\r\n  color: #ff69b4;\r\n}\r\n\r\n.follow-tab:hover {\r\n  color: #ff69b4;\r\n}\r\n\r\n.close-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  color: rgba(45, 45, 45, 0.8);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background 0.2s ease, color 0.2s ease;\r\n}\r\n\r\n.close-btn:hover {\r\n  background: rgba(255, 105, 180, 0.2);\r\n  color: #ff69b4;\r\n}\r\n\r\n.follow-modal-search {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 16px 24px;\r\n  border-bottom: 1px solid rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.search-box {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 14px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 12px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.search-box:focus-within {\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  box-shadow: 0 2px 8px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.search-box input {\r\n  flex: 1;\r\n  background: transparent;\r\n  border: none;\r\n  color: #2d2d2d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.search-box input:focus {\r\n  outline: none;\r\n}\r\n\r\n.search-box input::placeholder {\r\n  color: rgba(45, 45, 45, 0.5);\r\n}\r\n\r\n.search-icon {\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.sort-dropdown {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 10px 14px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 12px;\r\n  color: rgba(45, 45, 45, 0.8);\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.sort-dropdown:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n}\r\n\r\n.sort-arrow {\r\n  font-size: 0.7rem;\r\n  color: rgba(45, 45, 45, 0.6);\r\n}\r\n\r\n.sort-dropdown-menu {\r\n  position: absolute;\r\n  top: calc(100% + 8px);\r\n  right: 0;\r\n  min-width: 140px;\r\n  background: rgba(255, 255, 255, 0.98);\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 24px rgba(255, 105, 180, 0.25);\r\n  overflow: hidden;\r\n  z-index: 10;\r\n}\r\n\r\n.sort-option {\r\n  padding: 12px 16px;\r\n  color: rgba(45, 45, 45, 0.8);\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease, color 0.2s ease;\r\n}\r\n\r\n.sort-option:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  color: #ff69b4;\r\n}\r\n\r\n.sort-option.active {\r\n  color: #ff69b4;\r\n  background: rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.follow-modal-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 12px 0;\r\n}\r\n\r\n.follow-user-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px 24px;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.follow-user-item:hover {\r\n  background: rgba(255, 105, 180, 0.05);\r\n}\r\n\r\n.user-avatar {\r\n  width: 56px;\r\n  height: 56px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  flex-shrink: 0;\r\n  background: rgba(255, 105, 180, 0.1);\r\n}\r\n\r\n.user-avatar img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n\r\n.user-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  min-width: 0;\r\n}\r\n\r\n.user-name-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.user-name {\r\n  font-weight: 600;\r\n  color: #2d2d2d;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.verified-badge {\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  background: #48d1cc;\r\n  color: #fff;\r\n  font-size: 0.7rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-title {\r\n  color: rgba(45, 45, 45, 0.8);\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.user-subtitle {\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.user-description {\r\n  color: rgba(45, 45, 45, 0.7);\r\n  font-size: 0.85rem;\r\n  line-height: 1.4;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.user-unread {\r\n  color: #ff69b4;\r\n  font-size: 0.8rem;\r\n  margin-top: 2px;\r\n}\r\n\r\n.follow-status-btn {\r\n  padding: 8px 20px;\r\n  border-radius: 20px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n  white-space: nowrap;\r\n}\r\n\r\n.follow-status-btn.followed {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.3);\r\n  color: #ff69b4;\r\n}\r\n\r\n.follow-status-btn.mutual {\r\n  background: rgba(255, 105, 180, 0.15);\r\n  border-color: rgba(255, 105, 180, 0.4);\r\n  color: #ff69b4;\r\n}\r\n\r\n.follow-status-btn.not-followed {\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  border-color: transparent;\r\n}\r\n\r\n.follow-status-btn:hover {\r\n  opacity: 0.9;\r\n  transform: scale(1.05);\r\n}\r\n\r\n/* æ»šåŠ¨æ¡æ ·å¼ */\r\n.follow-modal-content::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.follow-modal-content::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.follow-modal-content::-webkit-scrollbar-thumb {\r\n  background: rgba(255, 105, 180, 0.3);\r\n  border-radius: 3px;\r\n}\r\n\r\n.follow-modal-content::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(255, 105, 180, 0.5);\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}