{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"upload-page\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-right\"\n};\nconst _hoisted_4 = {\n  class: \"page-body\"\n};\nconst _hoisted_5 = {\n  class: \"content\"\n};\nconst _hoisted_6 = {\n  class: \"upload-container\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"right-column\"\n};\nconst _hoisted_8 = {\n  class: \"info-panel\"\n};\nconst _hoisted_9 = {\n  class: \"field\"\n};\nconst _hoisted_10 = {\n  class: \"field-hint\"\n};\nconst _hoisted_11 = {\n  class: \"field\"\n};\nconst _hoisted_12 = {\n  class: \"field-hint\"\n};\nconst _hoisted_13 = {\n  class: \"field\"\n};\nconst _hoisted_14 = {\n  class: \"pill-group\"\n};\nconst _hoisted_15 = {\n  class: \"info-panel\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"cover-placeholder\"\n};\nconst _hoisted_17 = [\"src\"];\nconst _hoisted_18 = {\n  class: \"info-panel\"\n};\nconst _hoisted_19 = {\n  class: \"tag-list\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = {\n  key: 0,\n  class: \"info-panel\"\n};\nconst _hoisted_22 = [\"src\"];\nconst _hoisted_23 = {\n  class: \"action-buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"header\", _hoisted_2, [_cache[17] || (_cache[17] = _createElementVNode(\"div\", {\n    class: \"brand\"\n  }, [_createElementVNode(\"div\", {\n    class: \"logo\"\n  }, \"VL\"), _createElementVNode(\"div\", {\n    class: \"brand-text\"\n  }, [_createElementVNode(\"h1\", null, \"VirtuaLive\"), _createElementVNode(\"p\", null, \"虚拟互动中心\")])], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: \"back-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))\n  }, [...(_cache[16] || (_cache[16] = [_createElementVNode(\"span\", {\n    class: \"back-icon\"\n  }, \"←\", -1 /* CACHED */), _createTextVNode(\" 返回 \", -1 /* CACHED */)]))])])]), _createElementVNode(\"main\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"page-content\", {\n      'with-info': $data.hasVideoUploaded\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [!$data.hasVideoUploaded ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"upload-area\", {\n      'drag-over': $data.isDragOver\n    }]),\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.triggerFileInput && $options.triggerFileInput(...args)),\n    onDragover: _cache[3] || (_cache[3] = _withModifiers($event => $data.isDragOver = true, [\"prevent\"])),\n    onDragleave: _cache[4] || (_cache[4] = _withModifiers($event => $data.isDragOver = false, [\"prevent\"])),\n    onDrop: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.handleDrop && $options.handleDrop(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"input\", {\n    ref: \"videoInput\",\n    type: \"file\",\n    accept: \"video/*\",\n    hidden: \"\",\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.handleFileSelect && $options.handleFileSelect(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _cache[18] || (_cache[18] = _createElementVNode(\"div\", {\n    class: \"upload-box\"\n  }, [_createElementVNode(\"div\", {\n    class: \"upload-icon\"\n  }, \"⬆️\"), _createElementVNode(\"p\", {\n    class: \"upload-text\"\n  }, \"点击或拖拽上传视频\"), _createElementVNode(\"p\", {\n    class: \"upload-subtext\"\n  }, \"支持 MP4/MOV/AVI，大小上限 500MB\")], -1 /* CACHED */))], 34 /* CLASS, NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true), $data.hasVideoUploaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[22] || (_cache[22] = _createElementVNode(\"h3\", {\n    class: \"info-title\"\n  }, \"视频信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_9, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", null, \"标题\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.form.title = $event),\n    type: \"text\",\n    placeholder: \"给视频取个标题吧\",\n    maxlength: \"30\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.title]]), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($data.form.title.length) + \"/30\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", null, \"简介\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.form.desc = $event),\n    placeholder: \"简单介绍一下视频内容\",\n    maxlength: \"200\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.desc]]), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($data.form.desc.length) + \"/200\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", null, \"谁可以看\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass(['pill', {\n      active: $data.form.visibility === 'public'\n    }]),\n    onClick: _cache[8] || (_cache[8] = $event => $data.form.visibility = 'public')\n  }, \" 公开 \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass(['pill', {\n      active: $data.form.visibility === 'private'\n    }]),\n    onClick: _cache[9] || (_cache[9] = $event => $data.form.visibility = 'private')\n  }, \" 私密 \", 2 /* CLASS */)])])]), _createElementVNode(\"div\", _hoisted_15, [_cache[23] || (_cache[23] = _createElementVNode(\"p\", {\n    class: \"section-title\"\n  }, \"上传视频封面\", -1 /* CACHED */)), _createElementVNode(\"div\", {\n    class: \"cover-upload-box\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.triggerCoverInput && $options.triggerCoverInput(...args)),\n    onDragover: _cache[12] || (_cache[12] = _withModifiers(() => {}, [\"prevent\"])),\n    onDrop: _cache[13] || (_cache[13] = _withModifiers((...args) => $options.handleCoverDrop && $options.handleCoverDrop(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"input\", {\n    ref: \"coverInput\",\n    type: \"file\",\n    accept: \"image/*\",\n    hidden: \"\",\n    onChange: _cache[10] || (_cache[10] = (...args) => $options.handleCoverSelect && $options.handleCoverSelect(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), !$data.coverPreview ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, \"点击或拖拽图片上传\")) : (_openBlock(), _createElementBlock(\"img\", {\n    key: 1,\n    src: $data.coverPreview,\n    alt: \"cover preview\",\n    class: \"cover-preview\"\n  }, null, 8 /* PROPS */, _hoisted_17))], 32 /* NEED_HYDRATION */)]), _createElementVNode(\"div\", _hoisted_18, [_cache[24] || (_cache[24] = _createElementVNode(\"p\", {\n    class: \"section-title\"\n  }, \"选择标签\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.topicOptions, option => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: option.key,\n      class: _normalizeClass(['tag', {\n        active: $data.selectedTopic === option.key\n      }]),\n      onClick: $event => $options.selectTopic(option.key)\n    }, _toDisplayString(option.label), 11 /* TEXT, CLASS, PROPS */, _hoisted_20);\n  }), 128 /* KEYED_FRAGMENT */))]), _cache[25] || (_cache[25] = _createElementVNode(\"p\", {\n    class: \"tag-hint\"\n  }, \"标签将决定视频展示分类\", -1 /* CACHED */))]), $data.videoPreview ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_cache[26] || (_cache[26] = _createElementVNode(\"p\", {\n    class: \"section-title\"\n  }, \"视频预览\", -1 /* CACHED */)), _createElementVNode(\"video\", {\n    controls: \"\",\n    src: $data.videoPreview,\n    class: \"preview-player\"\n  }, null, 8 /* PROPS */, _hoisted_22)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"button\", {\n    class: \"btn primary\",\n    onClick: _cache[14] || (_cache[14] = (...args) => $options.saveVideo && $options.saveVideo(...args))\n  }, \"上传视频\"), _createElementVNode(\"button\", {\n    class: \"btn ghost\",\n    onClick: _cache[15] || (_cache[15] = (...args) => $options.resetForm && $options.resetForm(...args))\n  }, \"重新选择\")])])) : _createCommentVNode(\"v-if\", true)])])], 2 /* CLASS */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","goBack","_hoisted_4","_normalizeClass","$data","hasVideoUploaded","_hoisted_5","_hoisted_6","isDragOver","triggerFileInput","onDragover","_withModifiers","$event","onDragleave","onDrop","handleDrop","ref","type","accept","hidden","onChange","handleFileSelect","_hoisted_7","_hoisted_8","_hoisted_9","form","title","placeholder","maxlength","_hoisted_10","_toDisplayString","length","_hoisted_11","desc","_hoisted_12","_hoisted_13","_hoisted_14","active","visibility","_hoisted_15","triggerCoverInput","handleCoverDrop","handleCoverSelect","coverPreview","_hoisted_16","src","alt","_hoisted_18","_hoisted_19","_Fragment","_renderList","topicOptions","option","key","selectedTopic","selectTopic","label","_hoisted_20","videoPreview","_hoisted_21","controls","_hoisted_23","saveVideo","resetForm"],"sources":["C:\\Users\\13765\\Desktop\\vitualieve\\front\\Virtual-Live\\front\\src\\views\\UploadVideoView.vue"],"sourcesContent":["<template>\r\n  <div class=\"upload-page\">\r\n    <header class=\"page-header\">\r\n      <div class=\"brand\">\r\n        <div class=\"logo\">VL</div>\r\n        <div class=\"brand-text\">\r\n          <h1>VirtuaLive</h1>\r\n          <p>虚拟互动中心</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <button class=\"back-btn\" @click=\"goBack\">\r\n          <span class=\"back-icon\">←</span>\r\n          返回\r\n        </button>\r\n      </div>\r\n    </header>\r\n\r\n    <main class=\"page-body\">\r\n      <div class=\"page-content\" :class=\"{ 'with-info': hasVideoUploaded }\">\r\n        <div class=\"content\">\r\n          <div class=\"upload-container\">\r\n            <div\r\n              v-if=\"!hasVideoUploaded\"\r\n              class=\"upload-area\"\r\n              :class=\"{ 'drag-over': isDragOver }\"\r\n              @click=\"triggerFileInput\"\r\n              @dragover.prevent=\"isDragOver = true\"\r\n              @dragleave.prevent=\"isDragOver = false\"\r\n              @drop.prevent=\"handleDrop\"\r\n            >\r\n              <input ref=\"videoInput\" type=\"file\" accept=\"video/*\" hidden @change=\"handleFileSelect\" />\r\n              <div class=\"upload-box\">\r\n                <div class=\"upload-icon\">⬆️</div>\r\n                <p class=\"upload-text\">点击或拖拽上传视频</p>\r\n                <p class=\"upload-subtext\">支持 MP4/MOV/AVI，大小上限 500MB</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div v-if=\"hasVideoUploaded\" class=\"right-column\">\r\n              <div class=\"info-panel\">\r\n                <h3 class=\"info-title\">视频信息</h3>\r\n                <div class=\"field\">\r\n                  <label>标题</label>\r\n                  <input v-model=\"form.title\" type=\"text\" placeholder=\"给视频取个标题吧\" maxlength=\"30\" />\r\n                  <div class=\"field-hint\">{{ form.title.length }}/30</div>\r\n                </div>\r\n                <div class=\"field\">\r\n                  <label>简介</label>\r\n                  <textarea v-model=\"form.desc\" placeholder=\"简单介绍一下视频内容\" maxlength=\"200\"></textarea>\r\n                  <div class=\"field-hint\">{{ form.desc.length }}/200</div>\r\n                </div>\r\n                <div class=\"field\">\r\n                  <label>谁可以看</label>\r\n                  <div class=\"pill-group\">\r\n                    <button\r\n                      type=\"button\"\r\n                      :class=\"['pill', { active: form.visibility === 'public' }]\"\r\n                      @click=\"form.visibility = 'public'\"\r\n                    >\r\n                      公开\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      :class=\"['pill', { active: form.visibility === 'private' }]\"\r\n                      @click=\"form.visibility = 'private'\"\r\n                    >\r\n                      私密\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"info-panel\">\r\n                <p class=\"section-title\">上传视频封面</p>\r\n                <div class=\"cover-upload-box\" @click=\"triggerCoverInput\" @dragover.prevent @drop.prevent=\"handleCoverDrop\">\r\n                  <input ref=\"coverInput\" type=\"file\" accept=\"image/*\" hidden @change=\"handleCoverSelect\" />\r\n                  <div v-if=\"!coverPreview\" class=\"cover-placeholder\">点击或拖拽图片上传</div>\r\n                  <img v-else :src=\"coverPreview\" alt=\"cover preview\" class=\"cover-preview\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"info-panel\">\r\n                <p class=\"section-title\">选择标签</p>\r\n                <div class=\"tag-list\">\r\n                  <button\r\n                    v-for=\"option in topicOptions\"\r\n                    :key=\"option.key\"\r\n                    :class=\"['tag', { active: selectedTopic === option.key }]\"\r\n                    @click=\"selectTopic(option.key)\"\r\n                  >\r\n                    {{ option.label }}\r\n                  </button>\r\n                </div>\r\n                <p class=\"tag-hint\">标签将决定视频展示分类</p>\r\n              </div>\r\n\r\n              <div class=\"info-panel\" v-if=\"videoPreview\">\r\n                <p class=\"section-title\">视频预览</p>\r\n                <video controls :src=\"videoPreview\" class=\"preview-player\"></video>\r\n              </div>\r\n\r\n              <div class=\"action-buttons\">\r\n                <button class=\"btn primary\" @click=\"saveVideo\">上传视频</button>\r\n                <button class=\"btn ghost\" @click=\"resetForm\">重新选择</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UploadVideoView',\r\n  data() {\r\n    return {\r\n      isDragOver: false,\r\n      selectedFile: null,\r\n      videoPreview: '',\r\n      coverFile: null,\r\n      coverPreview: '',\r\n      hasVideoUploaded: false,\r\n      videoDuration: null,\r\n      form: {\r\n        title: '',\r\n        desc: '',\r\n        visibility: 'public'\r\n      },\r\n      defaultThumbnail: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8Xw8AAn8B9nkRVKkAAAAASUVORK5CYII=',\r\n      selectedTopic: '',\r\n      topicOptions: [\r\n        { key: 'vsinger', label: '虚拟singer' },\r\n        { key: 'vgamer', label: '虚拟gamer' },\r\n        { key: 'vseiyuu', label: '虚拟声优' },\r\n        { key: 'vmale', label: '虚拟男V' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    topicTagMap() {\r\n      return {\r\n        vsinger: 'Music',\r\n        vgamer: 'Esports',\r\n        vseiyuu: 'Podcast',\r\n        vmale: 'Stage'\r\n      }\r\n    },\r\n    topicLabelMap() {\r\n      return this.topicOptions.reduce((acc, cur) => {\r\n        acc[cur.key] = cur.label\r\n        return acc\r\n      }, {})\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      // 如果有历史记录，返回上一页；否则返回首页\r\n      if (window.history.length > 1) {\r\n        this.$router.go(-1)\r\n      } else {\r\n        this.$router.push({ path: '/' })\r\n      }\r\n    },\r\n    triggerFileInput() {\r\n      this.$refs.videoInput?.click()\r\n    },\r\n    triggerCoverInput() {\r\n      this.$refs.coverInput?.click()\r\n    },\r\n    handleFileSelect(event) {\r\n      const file = event.target.files?.[0]\r\n      if (file) {\r\n        this.setSelectedVideo(file)\r\n      }\r\n    },\r\n    handleDrop(event) {\r\n      event.preventDefault()\r\n      this.isDragOver = false\r\n      const file = event.dataTransfer?.files?.[0]\r\n      if (file) {\r\n        this.setSelectedVideo(file)\r\n      }\r\n    },\r\n    setSelectedVideo(file) {\r\n      if (!file.type.startsWith('video/')) {\r\n        alert('请选择视频文件')\r\n        return\r\n      }\r\n\r\n      const maxSize = 500 * 1024 * 1024 // 500MB\r\n      if (file.size > maxSize) {\r\n        alert('视频文件过大（超过500MB），请选择更小的文件')\r\n        return\r\n      }\r\n\r\n      if (this.videoPreview) {\r\n        URL.revokeObjectURL(this.videoPreview)\r\n      }\r\n\r\n      this.selectedFile = file\r\n      this.hasVideoUploaded = true\r\n      this.videoPreview = URL.createObjectURL(file)\r\n      // 同时保存视频的blob URL，供后续查看时使用\r\n      this.$data.selectedVideoUrl = this.videoPreview\r\n      this.extractVideoDuration(file)\r\n\r\n      if (!this.form.title) {\r\n        this.form.title = file.name.replace(/\\.[^/.]+$/, '')\r\n      }\r\n    },\r\n    handleCoverSelect(event) {\r\n      const file = event.target.files?.[0]\r\n      if (file) {\r\n        this.processCover(file)\r\n      }\r\n    },\r\n    handleCoverDrop(event) {\r\n      event.preventDefault()\r\n      const file = event.dataTransfer?.files?.[0]\r\n      if (file) {\r\n        this.processCover(file)\r\n      }\r\n    },\r\n    processCover(file) {\r\n      if (!file.type.startsWith('image/')) {\r\n        alert('请上传图片作为封面')\r\n        return\r\n      }\r\n\r\n      const maxSize = 2 * 1024 * 1024 // 2MB\r\n      if (file.size > maxSize) {\r\n        alert('封面图片过大（超过2MB），请选择较小的图片')\r\n        return\r\n      }\r\n      const reader = new FileReader()\r\n      reader.onload = (e) => {\r\n        this.coverFile = file\r\n        this.coverPreview = e.target.result\r\n        // 同时保存到sessionStorage用于临时存储\r\n        this.coverDataUrl = e.target.result\r\n      }\r\n      reader.onerror = () => {\r\n        alert('读取封面失败，请重试')\r\n      }\r\n      reader.readAsDataURL(file)\r\n    },\r\n    selectTopic(topicKey) {\r\n      this.selectedTopic = topicKey\r\n    },\r\n    saveVideo() {\r\n      if (!this.selectedFile) {\r\n        alert('请先选择要上传的视频')\r\n        return\r\n      }\r\n      this.processFile(this.selectedFile)\r\n    },\r\n    async processFile(file) {\r\n      const maxSize = 500 * 1024 * 1024 // 500MB\r\n      if (file.size > maxSize) {\r\n        alert('视频文件过大（超过500MB），请选择更小的文件')\r\n        return\r\n      }\r\n      \r\n      // 保存视频的blob URL到sessionStorage，供后续查看时使用\r\n      const videoUrl = URL.createObjectURL(file)\r\n      const videoId = Date.now()\r\n      sessionStorage.setItem(`videoBlob_${videoId}`, videoUrl)\r\n      \r\n      // 保存封面到sessionStorage（如果有的话）\r\n      let coverKey = null\r\n      if (this.coverDataUrl) {\r\n        coverKey = `coverBlob_${videoId}`\r\n        sessionStorage.setItem(coverKey, this.coverDataUrl)\r\n      }\r\n      \r\n      // 读取用户信息（用于获取用户名）\r\n      let userName = 'zk3zy' // 默认用户名\r\n      try {\r\n        const profileData = localStorage.getItem('profileUser')\r\n        if (profileData) {\r\n          const parsed = JSON.parse(profileData)\r\n          if (parsed.name) {\r\n            userName = parsed.name\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.warn('读取用户信息失败', err)\r\n      }\r\n      \r\n      const duration = this.videoDuration\r\n        ? this.formatDuration(Math.round(this.videoDuration))\r\n        : this.formatDuration(Math.floor(Math.random() * 300 + 10)) // 10-310秒兜底\r\n      const primaryTag = this.topicLabelMap[this.selectedTopic] || (this.selectedTopic || '未分类')\r\n      const title = (this.form.title && this.form.title.trim()) || file.name.replace(/\\.[^/.]+$/, '')\r\n      const desc = (this.form.desc && this.form.desc.trim()) || ''\r\n      const visibility = this.form.visibility === 'private' ? 'private' : 'public'\r\n      const isPrivate = visibility === 'private'\r\n      \r\n      // 不再将视频内联到localStorage，避免超出浏览器存储配额（10MB左右就可能失败）\r\n      let inlineVideoData = ''\r\n\r\n      const videoData = {\r\n        id: videoId,\r\n        title,\r\n        creator: userName,\r\n        duration: duration,\r\n        views: '0次观看',\r\n        tags: [primaryTag],\r\n        thumbnail: this.coverPreview || this.defaultThumbnail,\r\n        coverKey: coverKey,\r\n        desc,\r\n        visibility,\r\n        isPrivate,\r\n        uploadTime: new Date().toISOString(),\r\n        fileName: file.name,\r\n        fileSize: file.size,\r\n        fileType: file.type,\r\n        videoUrl: videoUrl,\r\n        videoData: inlineVideoData // 不再内联，避免localStorage超限；刷新后大文件需重传\r\n      }\r\n\r\n      // 保存到localStorage\r\n      this.saveVideoToWorks(videoData)\r\n\r\n      // 触发自定义事件，通知其他页面更新\r\n      window.dispatchEvent(new Event('userWorksUpdated'))\r\n\r\n      // 显示成功提示\r\n      alert('视频上传成功！已添加到我的作品')\r\n      this.resetForm()\r\n    },\r\n    extractVideoDuration(file) {\r\n      return new Promise((resolve) => {\r\n        const url = URL.createObjectURL(file)\r\n        const video = document.createElement('video')\r\n        video.preload = 'metadata'\r\n        video.onloadedmetadata = () => {\r\n          URL.revokeObjectURL(url)\r\n          this.videoDuration = video.duration || null\r\n          resolve(this.videoDuration)\r\n        }\r\n        video.onerror = () => {\r\n          URL.revokeObjectURL(url)\r\n          this.videoDuration = null\r\n          resolve(null)\r\n        }\r\n        video.src = url\r\n      })\r\n    },\r\n    formatDuration(seconds) {\r\n      const mins = Math.floor(seconds / 60)\r\n      const secs = seconds % 60\r\n      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\r\n    },\r\n    saveVideoToWorks(videoData) {\r\n      try {\r\n        // 从localStorage读取现有作品\r\n        const existingWorks = this.getUserWorks()\r\n        \r\n        // 添加新作品到列表开头\r\n        existingWorks.unshift(videoData)\r\n        \r\n        // 保存回localStorage\r\n        localStorage.setItem('userWorks', JSON.stringify(existingWorks))\r\n        \r\n        console.log('视频已保存到作品:', videoData)\r\n      } catch (err) {\r\n        console.error('保存作品失败', err)\r\n        alert('保存作品失败，请重试')\r\n      }\r\n    },\r\n    getUserWorks() {\r\n      try {\r\n        const works = localStorage.getItem('userWorks')\r\n        if (works) {\r\n          return JSON.parse(works)\r\n        }\r\n      } catch (err) {\r\n        console.warn('读取作品失败', err)\r\n      }\r\n      return []\r\n    },\r\n    resetForm() {\r\n      if (this.videoPreview) {\r\n        URL.revokeObjectURL(this.videoPreview)\r\n      }\r\n\r\n      this.isDragOver = false\r\n      this.selectedFile = null\r\n      this.videoPreview = ''\r\n      this.coverFile = null\r\n      this.coverPreview = ''\r\n      this.hasVideoUploaded = false\r\n      this.videoDuration = null\r\n      this.form.title = ''\r\n      this.form.desc = ''\r\n      this.form.visibility = 'public'\r\n      this.selectedTopic = ''\r\n\r\n      if (this.$refs.videoInput) {\r\n        this.$refs.videoInput.value = ''\r\n      }\r\n      if (this.$refs.coverInput) {\r\n        this.$refs.coverInput.value = ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.upload-page {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #fef7ff 0%, #f5f0ff 50%, #fff0f8 100%);\r\n  color: #2d2d2d;\r\n  font-family: 'Segoe UI', 'PingFang SC', 'Microsoft Yahei', sans-serif;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 24px 48px;\r\n  border-bottom: 1px solid rgba(255, 105, 180, 0.2);\r\n  background: rgba(255, 255, 255, 0.6);\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.brand {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.logo {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 14px;\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 700;\r\n  letter-spacing: 1px;\r\n  box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);\r\n}\r\n\r\n.brand-text h1 {\r\n  font-size: 1.2rem;\r\n  margin: 0;\r\n}\r\n\r\n.brand-text h1 {\r\n  color: #2d2d2d;\r\n}\r\n\r\n.brand-text p {\r\n  margin: 4px 0 0;\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.back-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px 20px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 10px;\r\n  color: #2d2d2d;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.back-btn:hover {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  color: #ff69b4;\r\n  transform: translateX(-2px);\r\n}\r\n\r\n.back-btn:active {\r\n  transform: translateX(0);\r\n}\r\n\r\n.back-icon {\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.page-content {\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n}\r\n\r\n.sidebar {\r\n  padding: 32px 24px;\r\n  border-right: 1px solid rgba(255, 105, 180, 0.2);\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: rgba(255, 255, 255, 0.6);\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.publish-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 14px 20px;\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 50%, #48d1cc 100%);\r\n  border: none;\r\n  border-radius: 14px;\r\n  color: #fff;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.publish-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 20px rgba(115, 102, 255, 0.3);\r\n}\r\n\r\n.publish-btn:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.content {\r\n  padding: 48px 24px;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.upload-container {\r\n  width: 100%;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.right-column {\r\n  width: 100%;\r\n}\r\n\r\n.info-panel {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border: 1px solid rgba(255, 105, 180, 0.25);\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n  box-shadow: 0 4px 20px rgba(255, 105, 180, 0.15);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.info-title {\r\n  font-weight: 700;\r\n  color: #2d2d2d;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.field label {\r\n  font-weight: 600;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.field input,\r\n.field textarea {\r\n  width: 100%;\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  padding: 12px;\r\n  color: #2d2d2d;\r\n  font-size: 14px;\r\n  transition: border 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.field input:focus,\r\n.field textarea:focus {\r\n  border-color: #ff69b4;\r\n  outline: none;\r\n  box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.field textarea {\r\n  resize: vertical;\r\n  min-height: 90px;\r\n}\r\n\r\n.field-hint {\r\n  font-size: 12px;\r\n  color: rgba(45, 45, 45, 0.55);\r\n  text-align: right;\r\n}\r\n\r\n.cover-upload-box {\r\n  position: relative;\r\n  border: 1px dashed rgba(255, 105, 180, 0.35);\r\n  border-radius: 12px;\r\n  width: 100%;\r\n  aspect-ratio: 16 / 9;\r\n  min-height: 220px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  background: rgba(255, 255, 255, 0.5);\r\n  cursor: pointer;\r\n  transition: border 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.cover-upload-box:hover {\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  box-shadow: 0 8px 24px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.cover-preview {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n  position: absolute;\r\n  inset: 0;\r\n}\r\n\r\n.cover-placeholder {\r\n  color: rgba(45, 45, 45, 0.6);\r\n  font-weight: 600;\r\n}\r\n\r\n.upload-area {\r\n  margin-top: 16px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  backdrop-filter: blur(10px);\r\n  border: 2px dashed rgba(255, 105, 180, 0.3);\r\n  border-radius: 20px;\r\n  padding: 140px 80px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 20px rgba(255, 105, 180, 0.15);\r\n}\r\n\r\n.upload-area.success {\r\n  cursor: default;\r\n  border-style: solid;\r\n  border-color: rgba(255, 105, 180, 0.4);\r\n}\r\n\r\n.upload-area:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-color: rgba(255, 105, 180, 0.5);\r\n  box-shadow: 0 8px 30px rgba(255, 105, 180, 0.25);\r\n}\r\n\r\n.upload-area.drag-over {\r\n  background: rgba(255, 105, 180, 0.1);\r\n  border-color: #ff69b4;\r\n  transform: scale(1.02);\r\n  box-shadow: 0 12px 40px rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.upload-icon {\r\n  font-size: 64px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.upload-text {\r\n  font-size: 1.1rem;\r\n  color: #2d2d2d;\r\n  margin: 0 0 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.upload-subtext {\r\n  font-size: 0.95rem;\r\n  color: rgba(45, 45, 45, 0.65);\r\n  margin: 0 0 12px;\r\n}\r\n\r\n.upload-note {\r\n  font-size: 0.9rem;\r\n  color: rgba(45, 45, 45, 0.7);\r\n  margin: 0;\r\n  line-height: 1.6;\r\n}\r\n\r\n.section-title {\r\n  font-weight: 700;\r\n  color: #2d2d2d;\r\n  margin: 0 0 10px;\r\n}\r\n\r\n.tag-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.tag {\r\n  padding: 10px 14px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  border-radius: 12px;\r\n}\r\n.tag.active {\r\n  background: #ff69b4;\r\n  color: #fff;\r\n  border-color: #ff69b4;\r\n  box-shadow: 0 6px 18px rgba(255, 105, 180, 0.35);\r\n}\r\n\r\n.tag-hint {\r\n  font-size: 0.85rem;\r\n  color: rgba(45, 45, 45, 0.6);\r\n}\r\n\r\n.pill-group {\r\n  display: inline-flex;\r\n  gap: 8px;\r\n}\r\n\r\n.pill {\r\n  padding: 10px 14px;\r\n  border-radius: 999px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #2d2d2d;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.pill:hover {\r\n  border-color: rgba(255, 105, 180, 0.6);\r\n  box-shadow: 0 4px 14px rgba(255, 105, 180, 0.2);\r\n}\r\n\r\n.pill.active {\r\n  background: #ff69b4;\r\n  color: #fff;\r\n  border-color: #ff69b4;\r\n  box-shadow: 0 6px 18px rgba(255, 105, 180, 0.35);\r\n}\r\n\r\n.preview-player {\r\n  width: 100%;\r\n  border-radius: 12px;\r\n  background: #000;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n  margin-top: 12px;\r\n}\r\n\r\n.btn {\r\n  padding: 12px 16px;\r\n  border-radius: 12px;\r\n  border: none;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.btn.primary {\r\n  background: linear-gradient(135deg, #ff69b4 0%, #9370db 100%);\r\n  color: #fff;\r\n  box-shadow: 0 6px 18px rgba(255, 105, 180, 0.3);\r\n}\r\n\r\n.btn.primary:hover {\r\n  box-shadow: 0 8px 22px rgba(255, 105, 180, 0.35);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.btn.ghost {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #ff69b4;\r\n  border: 1px solid rgba(255, 105, 180, 0.4);\r\n}\r\n\r\n.btn.ghost:hover {\r\n  background: rgba(255, 105, 180, 0.05);\r\n  border-color: rgba(255, 105, 180, 0.6);\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}