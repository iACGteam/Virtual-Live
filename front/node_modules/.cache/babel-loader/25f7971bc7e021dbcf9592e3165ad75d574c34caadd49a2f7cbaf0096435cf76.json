{"ast":null,"code":"import { addMockUser, isMockEmailTaken, isMockUsernameTaken } from '@/data/mockUsers';\nexport default {\n  name: 'RegisterView',\n  data() {\n    return {\n      form: {\n        nickname: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        category: ''\n      },\n      agree: false,\n      message: '',\n      loading: false\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.message = '';\n      if (this.form.password !== this.form.confirmPassword) {\n        this.message = '两次输入的密码不一致';\n        return;\n      }\n      if (!this.agree) {\n        this.message = '请先勾选并同意相关条款';\n        return;\n      }\n      const nickname = this.form.nickname.trim();\n      const email = this.form.email.trim().toLowerCase();\n      const password = this.form.password;\n      if (isMockUsernameTaken(nickname)) {\n        this.message = '该用户名已被占用，请尝试其他昵称';\n        return;\n      }\n      if (isMockEmailTaken(email)) {\n        this.message = '该邮箱已注册，请直接登录';\n        return;\n      }\n      this.loading = true;\n      setTimeout(() => {\n        addMockUser({\n          username: nickname,\n          email,\n          password,\n          name: nickname\n        });\n        this.loading = false;\n        this.message = '注册成功（模拟），正在跳转至登录页…';\n        const redirect = this.$route.query.redirect;\n        const redirectQuery = typeof redirect === 'string' ? {\n          redirect\n        } : undefined;\n        setTimeout(() => {\n          this.$router.replace({\n            name: 'login',\n            query: redirectQuery\n          }).catch(() => {});\n        }, 800);\n      }, 1200);\n    }\n  }\n};","map":{"version":3,"names":["addMockUser","isMockEmailTaken","isMockUsernameTaken","name","data","form","nickname","email","password","confirmPassword","category","agree","message","loading","methods","handleSubmit","trim","toLowerCase","setTimeout","username","redirect","$route","query","redirectQuery","undefined","$router","replace","catch"],"sources":["C:\\Users\\13765\\Desktop\\vitualieve\\front\\Virtual-Live\\front\\src\\views\\RegisterView.vue"],"sourcesContent":["<template>\r\n  <div class=\"auth-page register\">\r\n    <div class=\"grid glow\"></div>\r\n    <div class=\"auth-card\">\r\n      <div class=\"card-header\">\r\n        <h1>创建账号</h1>\r\n      </div>\r\n\r\n      <form class=\"auth-form\" @submit.prevent=\"handleSubmit\">\r\n        <label>\r\n          <span>用户名</span>\r\n          <input\r\n            v-model.trim=\"form.nickname\"\r\n            type=\"text\"\r\n            placeholder=\"不超过 16 个字符\"\r\n            maxlength=\"16\"\r\n            required\r\n          >\r\n        </label>\r\n\r\n        <label>\r\n          <span>邮箱</span>\r\n          <input\r\n            v-model.trim=\"form.email\"\r\n            type=\"email\"\r\n            placeholder=\"player@cosmos.tv\"\r\n            required\r\n          >\r\n        </label>\r\n\r\n        <label>\r\n          <span>密码</span>\r\n          <input\r\n            v-model=\"form.password\"\r\n            type=\"password\"\r\n            placeholder=\"至少 6 位，含数字\"\r\n            minlength=\"6\"\r\n            required\r\n          >\r\n        </label>\r\n\r\n        <label>\r\n          <span>确认密码</span>\r\n          <input\r\n            v-model=\"form.confirmPassword\"\r\n            type=\"password\"\r\n            placeholder=\"再次输入密码\"\r\n            minlength=\"6\"\r\n            required\r\n          >\r\n        </label>\r\n\r\n        <label class=\"agreement\">\r\n          <input v-model=\"agree\" type=\"checkbox\" required>\r\n          <span>我已阅读并同意《用户协议》和《隐私条款》</span>\r\n        </label>\r\n\r\n        <button class=\"primary\" type=\"submit\">\r\n          <span v-if=\"!loading\">注册并激活账号</span>\r\n          <span v-else>正在创建账号…</span>\r\n        </button>\r\n\r\n        <p v-if=\"message\" class=\"message\">{{ message }}</p>\r\n      </form>\r\n\r\n      <div class=\"card-footer\">\r\n        已有账号？\r\n        <router-link to=\"/login\">返回登录</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addMockUser, isMockEmailTaken, isMockUsernameTaken } from '@/data/mockUsers'\r\n\r\nexport default {\r\n  name: 'RegisterView',\r\n  data() {\r\n    return {\r\n      form: {\r\n        nickname: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        category: ''\r\n      },\r\n      agree: false,\r\n      message: '',\r\n      loading: false\r\n    }\r\n  },\r\n  methods: {\r\n    handleSubmit() {\r\n      this.message = ''\r\n\r\n      if (this.form.password !== this.form.confirmPassword) {\r\n        this.message = '两次输入的密码不一致'\r\n        return\r\n      }\r\n\r\n      if (!this.agree) {\r\n        this.message = '请先勾选并同意相关条款'\r\n        return\r\n      }\r\n\r\n      const nickname = this.form.nickname.trim()\r\n      const email = this.form.email.trim().toLowerCase()\r\n      const password = this.form.password\r\n\r\n      if (isMockUsernameTaken(nickname)) {\r\n        this.message = '该用户名已被占用，请尝试其他昵称'\r\n        return\r\n      }\r\n\r\n      if (isMockEmailTaken(email)) {\r\n        this.message = '该邮箱已注册，请直接登录'\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        addMockUser({\r\n          username: nickname,\r\n          email,\r\n          password,\r\n          name: nickname\r\n        })\r\n\r\n        this.loading = false\r\n        this.message = '注册成功（模拟），正在跳转至登录页…'\r\n        const redirect = this.$route.query.redirect\r\n        const redirectQuery = typeof redirect === 'string' ? { redirect } : undefined\r\n        setTimeout(() => {\r\n          this.$router.replace({ name: 'login', query: redirectQuery }).catch(() => {})\r\n        }, 800)\r\n      }, 1200)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 50px 20px;\r\n  background: linear-gradient(135deg, #fef7ff 0%, #f5f0ff 50%, #fff0f8 100%);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.grid {\r\n  position: absolute;\r\n  width: 140%;\r\n  height: 120%;\r\n  top: -10%;\r\n  left: -20%;\r\n  background-image:\r\n    linear-gradient(90deg, rgba(255, 105, 180, 0.08) 1px, transparent 0),\r\n    linear-gradient(0deg, rgba(255, 105, 180, 0.08) 1px, transparent 0);\r\n  background-size: 80px 80px;\r\n  opacity: 0.5;\r\n  transform: rotate(-6deg);\r\n}\r\n\r\n.glow::after {\r\n  content: '';\r\n  position: absolute;\r\n  inset: 0;\r\n  background: radial-gradient(circle at 20% 20%, rgba(255, 105, 180, 0.2), transparent 55%),\r\n    radial-gradient(circle at 80% 60%, rgba(147, 112, 219, 0.15), transparent 50%);\r\n}\r\n\r\n.auth-card {\r\n  width: 100%;\r\n  max-width: 520px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 32px;\r\n  padding: 40px;\r\n  border: 1px solid rgba(255, 105, 180, 0.2);\r\n  box-shadow: 0 30px 50px rgba(255, 105, 180, 0.15);\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.card-header h1 {\r\n  margin: 10px 0;\r\n  font-size: 34px;\r\n  color: #2d2d2d;\r\n}\r\n\r\n.badge {\r\n  display: inline-flex;\r\n  padding: 4px 14px;\r\n  border-radius: 999px;\r\n  background: rgba(255, 105, 180, 0.1);\r\n  color: #ff69b4;\r\n  font-size: 12px;\r\n  letter-spacing: 0.1em;\r\n}\r\n\r\n.subtitle {\r\n  color: rgba(45, 45, 45, 0.75);\r\n}\r\n\r\n.auth-form {\r\n  margin-top: 26px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\r\n}\r\n\r\nlabel span {\r\n  display: block;\r\n  margin-bottom: 6px;\r\n  font-weight: 600;\r\n  letter-spacing: 0.02em;\r\n  color: #2d2d2d;\r\n}\r\n\r\ninput,\r\nselect {\r\n  width: 100%;\r\n  border-radius: 18px;\r\n  border: 1px solid rgba(255, 105, 180, 0.3);\r\n  background: rgba(255, 255, 255, 0.7);\r\n  padding: 16px;\r\n  color: #2d2d2d;\r\n  font-size: 15px;\r\n  transition: border 0.2s ease, transform 0.2s ease;\r\n}\r\n\r\ninput::placeholder,\r\nselect::placeholder {\r\n  color: rgba(45, 45, 45, 0.5);\r\n}\r\n\r\ninput:focus,\r\nselect:focus {\r\n  border-color: #ff69b4;\r\n  outline: none;\r\n  transform: translateY(-1px);\r\n  background: rgba(255, 255, 255, 0.95);\r\n}\r\n\r\nselect {\r\n  appearance: none;\r\n  background-image: linear-gradient(45deg, transparent 50%, #ff69b4 50%),\r\n    linear-gradient(135deg, #ff69b4 50%, transparent 50%);\r\n  background-position: calc(100% - 24px) calc(50% - 3px),\r\n    calc(100% - 16px) calc(50% - 3px);\r\n  background-size: 8px 8px;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.agreement {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  font-size: 13px;\r\n  color: rgba(45, 45, 45, 0.75);\r\n}\r\n\r\n.agreement input {\r\n  width: auto;\r\n}\r\n\r\n.primary {\r\n  width: 100%;\r\n  padding: 17px;\r\n  border-radius: 22px;\r\n  border: none;\r\n  background: linear-gradient(120deg, #ff7bc4, #7f8dff);\r\n  color: #fff;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.primary:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 25px 35px rgba(142, 130, 255, 0.3);\r\n}\r\n\r\n.message {\r\n  text-align: center;\r\n  color: #ff69b4;\r\n  font-size: 14px;\r\n}\r\n\r\n.card-footer {\r\n  margin-top: 24px;\r\n  text-align: center;\r\n  color: rgba(45, 45, 45, 0.7);\r\n}\r\n\r\n.card-footer a {\r\n  color: #ff69b4;\r\n  font-weight: 600;\r\n  margin-left: 4px;\r\n}\r\n\r\n@media (max-width: 540px) {\r\n  .auth-card {\r\n    padding: 28px 24px;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":"AA0EA,SAASA,WAAW,EAAEC,gBAAgB,EAAEC,mBAAkB,QAAS,kBAAiB;AAEpF,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,eAAe,EAAE,EAAE;QACnBC,QAAQ,EAAE;MACZ,CAAC;MACDC,KAAK,EAAE,KAAK;MACZC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACH,OAAM,GAAI,EAAC;MAEhB,IAAI,IAAI,CAACP,IAAI,CAACG,QAAO,KAAM,IAAI,CAACH,IAAI,CAACI,eAAe,EAAE;QACpD,IAAI,CAACG,OAAM,GAAI,YAAW;QAC1B;MACF;MAEA,IAAI,CAAC,IAAI,CAACD,KAAK,EAAE;QACf,IAAI,CAACC,OAAM,GAAI,aAAY;QAC3B;MACF;MAEA,MAAMN,QAAO,GAAI,IAAI,CAACD,IAAI,CAACC,QAAQ,CAACU,IAAI,CAAC;MACzC,MAAMT,KAAI,GAAI,IAAI,CAACF,IAAI,CAACE,KAAK,CAACS,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACjD,MAAMT,QAAO,GAAI,IAAI,CAACH,IAAI,CAACG,QAAO;MAElC,IAAIN,mBAAmB,CAACI,QAAQ,CAAC,EAAE;QACjC,IAAI,CAACM,OAAM,GAAI,kBAAiB;QAChC;MACF;MAEA,IAAIX,gBAAgB,CAACM,KAAK,CAAC,EAAE;QAC3B,IAAI,CAACK,OAAM,GAAI,cAAa;QAC5B;MACF;MAEA,IAAI,CAACC,OAAM,GAAI,IAAG;MAClBK,UAAU,CAAC,MAAM;QACflB,WAAW,CAAC;UACVmB,QAAQ,EAAEb,QAAQ;UAClBC,KAAK;UACLC,QAAQ;UACRL,IAAI,EAAEG;QACR,CAAC;QAED,IAAI,CAACO,OAAM,GAAI,KAAI;QACnB,IAAI,CAACD,OAAM,GAAI,oBAAmB;QAClC,MAAMQ,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,QAAO;QAC1C,MAAMG,aAAY,GAAI,OAAOH,QAAO,KAAM,QAAO,GAAI;UAAEA;QAAS,IAAII,SAAQ;QAC5EN,UAAU,CAAC,MAAM;UACf,IAAI,CAACO,OAAO,CAACC,OAAO,CAAC;YAAEvB,IAAI,EAAE,OAAO;YAAEmB,KAAK,EAAEC;UAAc,CAAC,CAAC,CAACI,KAAK,CAAC,MAAM,CAAC,CAAC;QAC9E,CAAC,EAAE,GAAG;MACR,CAAC,EAAE,IAAI;IACT;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}